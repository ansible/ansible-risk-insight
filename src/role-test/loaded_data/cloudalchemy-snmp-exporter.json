{"py/object": "struct4.Repository", "name": "", "path": "", "my_collection_name": "", "playbooks": [], "roles": [], "installed_collections_path": "", "installed_collections": [], "installed_roles_path": "./role-test/testdata/cloudalchemy-snmp-exporter", "installed_roles": [{"py/object": "struct4.Role", "name": "cloudalchemy.snmp-exporter", "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter", "fqcn": "cloudalchemy.snmp-exporter", "collection": "", "taskfiles": [{"py/object": "struct4.TaskFile", "name": "preflight.yml", "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/preflight.yml", "tasks": [{"py/object": "struct4.Task", "name": "Get checksum for {{ go_arch_map[ansible_architecture] | default(ansible_architecture) }} architecture", "module": "set_fact", "index": 0, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/preflight.yml", "options": {"name": "Get checksum for {{ go_arch_map[ansible_architecture] | default(ansible_architecture) }} architecture", "with_items": ["{{ lookup('url', 'https://github.com/prometheus/snmp_exporter/releases/download/v' + snmp_exporter_version + '/sha256sums.txt', wantlist=True) | list }}"], "when": "('linux-' + (go_arch_map[ansible_architecture] | default(ansible_architecture)) + '.tar.gz') in item"}, "module_options": {"snmp_exporter_checksum": "{{ item.split(' ')[0] }}"}, "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}], "role": "cloudalchemy.snmp-exporter", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "configure.yml", "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/configure.yml", "tasks": [{"py/object": "struct4.Task", "name": "Copy the SNMP Exporter systemd service file", "module": "template", "index": 0, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/configure.yml", "options": {"name": "Copy the SNMP Exporter systemd service file", "notify": ["restart snmp exporter"]}, "module_options": {"src": "snmp_exporter.service.j2", "dest": "/etc/systemd/system/snmp_exporter.service", "owner": "root", "group": "root", "mode": 420}, "executable": "template", "executable_type": "Module", "fqcn": "ansible.builtin.template", "annotations": {}}, {"py/object": "struct4.Task", "name": "Download snmp configuration file from github repository", "module": "get_url", "index": 1, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/configure.yml", "options": {"name": "Download snmp configuration file from github repository", "register": "_download_config", "until": "_download_config is success", "retries": 5, "delay": 2, "notify": ["reload snmp exporter"], "when": "snmp_exporter_config_file == \"\""}, "module_options": {"url": "https://raw.githubusercontent.com/prometheus/snmp_exporter/v{{ snmp_exporter_version }}/snmp.yml", "dest": "/etc/snmp_exporter/snmp.yml", "validate_certs": false, "owner": "root", "group": "root", "mode": 420}, "executable": "get_url", "executable_type": "Module", "fqcn": "ansible.builtin.get_url", "annotations": {}}, {"py/object": "struct4.Task", "name": "Copy configuration file", "module": "template", "index": 2, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/configure.yml", "options": {"name": "Copy configuration file", "no_log": "{{ 'true' if __testing_on_travis is defined else 'false' }}", "notify": ["reload snmp exporter"], "when": "snmp_exporter_config_file != \"\""}, "module_options": {"src": "{{ snmp_exporter_config_file }}", "dest": "/etc/snmp_exporter/snmp.yml", "owner": "root", "group": "root", "mode": 420}, "executable": "template", "executable_type": "Module", "fqcn": "ansible.builtin.template", "annotations": {}}], "role": "cloudalchemy.snmp-exporter", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "install.yml", "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml", "tasks": [{"py/object": "struct4.Task", "name": "Download snmp_exporter binary to local folder", "module": "get_url", "index": 0, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml", "options": {"name": "Download snmp_exporter binary to local folder", "become": false, "register": "_download_binary", "until": "_download_binary is success", "retries": 5, "delay": 2, "delegate_to": "localhost", "check_mode": false}, "module_options": {"url": "https://github.com/prometheus/snmp_exporter/releases/download/v{{ snmp_exporter_version }}/snmp_exporter-{{ snmp_exporter_version }}.linux-{{ go_arch_map[ansible_architecture] | default(ansible_architecture) }}.tar.gz", "dest": "/tmp", "checksum": "sha256:{{ snmp_exporter_checksum }}"}, "executable": "get_url", "executable_type": "Module", "fqcn": "ansible.builtin.get_url", "annotations": {}}, {"py/object": "struct4.Task", "name": "Unpack snmp_exporter binary", "module": "unarchive", "index": 1, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml", "options": {"name": "Unpack snmp_exporter binary", "become": false, "delegate_to": "localhost", "check_mode": false}, "module_options": {"src": "/tmp/snmp_exporter-{{ snmp_exporter_version }}.linux-{{ go_arch_map[ansible_architecture] | default(ansible_architecture) }}.tar.gz", "dest": "/tmp", "creates": "/tmp/snmp_exporter-{{ snmp_exporter_version }}.linux-{{ go_arch_map[ansible_architecture] | default(ansible_architecture) }}/snmp_exporter"}, "executable": "unarchive", "executable_type": "Module", "fqcn": "ansible.builtin.unarchive", "annotations": {}}, {"py/object": "struct4.Task", "name": "Propagate SNMP Exporter binaries", "module": "copy", "index": 2, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml", "options": {"name": "Propagate SNMP Exporter binaries", "notify": ["restart snmp exporter"]}, "module_options": {"src": "/tmp/snmp_exporter-{{ snmp_exporter_version }}.linux-{{ go_arch_map[ansible_architecture] | default(ansible_architecture) }}/snmp_exporter", "dest": "/usr/local/bin/snmp_exporter", "mode": 493}, "executable": "copy", "executable_type": "Module", "fqcn": "ansible.builtin.copy", "annotations": {}}, {"py/object": "struct4.Task", "name": "Create configuration directory", "module": "file", "index": 3, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml", "options": {"name": "Create configuration directory"}, "module_options": {"path": "/etc/snmp_exporter", "state": "directory", "owner": "root", "group": "root", "mode": 493}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}], "role": "cloudalchemy.snmp-exporter", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "", "module": "include", "index": 0, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml", "options": {"tags": ["snmp_exporter_install", "snmp_exporter_configure", "snmp_exporter_run"]}, "module_options": "preflight.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include", "index": 1, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml", "options": {"become": true, "tags": ["snmp_exporter_install"]}, "module_options": "install.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include", "index": 2, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml", "options": {"become": true, "tags": ["snmp_exporter_configure"]}, "module_options": "configure.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, {"py/object": "struct4.Task", "name": "ensure snmp_exporter service is started and enabled", "module": "systemd", "index": 3, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml", "options": {"name": "ensure snmp_exporter service is started and enabled", "become": true, "tags": ["snmp_exporter_run"]}, "module_options": {"daemon_reload": true, "name": "snmp_exporter", "state": "started", "enabled": true}, "executable": "systemd", "executable_type": "Module", "fqcn": "ansible.builtin.systemd", "annotations": {}}], "role": "cloudalchemy.snmp-exporter", "used_in": [], "annotations": {}}], "modules": [], "source": "", "annotations": {}, "used_in": []}], "modules": [], "taskfiles": [], "version": "", "module_dict": {}, "task_dict": {"{\"path\": \"./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/preflight.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "Get checksum for {{ go_arch_map[ansible_architecture] | default(ansible_architecture) }} architecture", "module": "set_fact", "index": 0, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/preflight.yml", "options": {"name": "Get checksum for {{ go_arch_map[ansible_architecture] | default(ansible_architecture) }} architecture", "with_items": ["{{ lookup('url', 'https://github.com/prometheus/snmp_exporter/releases/download/v' + snmp_exporter_version + '/sha256sums.txt', wantlist=True) | list }}"], "when": "('linux-' + (go_arch_map[ansible_architecture] | default(ansible_architecture)) + '.tar.gz') in item"}, "module_options": {"snmp_exporter_checksum": "{{ item.split(' ')[0] }}"}, "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, "{\"path\": \"./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/configure.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "Copy the SNMP Exporter systemd service file", "module": "template", "index": 0, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/configure.yml", "options": {"name": "Copy the SNMP Exporter systemd service file", "notify": ["restart snmp exporter"]}, "module_options": {"src": "snmp_exporter.service.j2", "dest": "/etc/systemd/system/snmp_exporter.service", "owner": "root", "group": "root", "mode": 420}, "executable": "template", "executable_type": "Module", "fqcn": "ansible.builtin.template", "annotations": {}}, "{\"path\": \"./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/configure.yml\", \"index\": 1}": {"py/object": "struct4.Task", "name": "Download snmp configuration file from github repository", "module": "get_url", "index": 1, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/configure.yml", "options": {"name": "Download snmp configuration file from github repository", "register": "_download_config", "until": "_download_config is success", "retries": 5, "delay": 2, "notify": ["reload snmp exporter"], "when": "snmp_exporter_config_file == \"\""}, "module_options": {"url": "https://raw.githubusercontent.com/prometheus/snmp_exporter/v{{ snmp_exporter_version }}/snmp.yml", "dest": "/etc/snmp_exporter/snmp.yml", "validate_certs": false, "owner": "root", "group": "root", "mode": 420}, "executable": "get_url", "executable_type": "Module", "fqcn": "ansible.builtin.get_url", "annotations": {}}, "{\"path\": \"./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/configure.yml\", \"index\": 2}": {"py/object": "struct4.Task", "name": "Copy configuration file", "module": "template", "index": 2, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/configure.yml", "options": {"name": "Copy configuration file", "no_log": "{{ 'true' if __testing_on_travis is defined else 'false' }}", "notify": ["reload snmp exporter"], "when": "snmp_exporter_config_file != \"\""}, "module_options": {"src": "{{ snmp_exporter_config_file }}", "dest": "/etc/snmp_exporter/snmp.yml", "owner": "root", "group": "root", "mode": 420}, "executable": "template", "executable_type": "Module", "fqcn": "ansible.builtin.template", "annotations": {}}, "{\"path\": \"./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "Download snmp_exporter binary to local folder", "module": "get_url", "index": 0, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml", "options": {"name": "Download snmp_exporter binary to local folder", "become": false, "register": "_download_binary", "until": "_download_binary is success", "retries": 5, "delay": 2, "delegate_to": "localhost", "check_mode": false}, "module_options": {"url": "https://github.com/prometheus/snmp_exporter/releases/download/v{{ snmp_exporter_version }}/snmp_exporter-{{ snmp_exporter_version }}.linux-{{ go_arch_map[ansible_architecture] | default(ansible_architecture) }}.tar.gz", "dest": "/tmp", "checksum": "sha256:{{ snmp_exporter_checksum }}"}, "executable": "get_url", "executable_type": "Module", "fqcn": "ansible.builtin.get_url", "annotations": {}}, "{\"path\": \"./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml\", \"index\": 1}": {"py/object": "struct4.Task", "name": "Unpack snmp_exporter binary", "module": "unarchive", "index": 1, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml", "options": {"name": "Unpack snmp_exporter binary", "become": false, "delegate_to": "localhost", "check_mode": false}, "module_options": {"src": "/tmp/snmp_exporter-{{ snmp_exporter_version }}.linux-{{ go_arch_map[ansible_architecture] | default(ansible_architecture) }}.tar.gz", "dest": "/tmp", "creates": "/tmp/snmp_exporter-{{ snmp_exporter_version }}.linux-{{ go_arch_map[ansible_architecture] | default(ansible_architecture) }}/snmp_exporter"}, "executable": "unarchive", "executable_type": "Module", "fqcn": "ansible.builtin.unarchive", "annotations": {}}, "{\"path\": \"./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml\", \"index\": 2}": {"py/object": "struct4.Task", "name": "Propagate SNMP Exporter binaries", "module": "copy", "index": 2, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml", "options": {"name": "Propagate SNMP Exporter binaries", "notify": ["restart snmp exporter"]}, "module_options": {"src": "/tmp/snmp_exporter-{{ snmp_exporter_version }}.linux-{{ go_arch_map[ansible_architecture] | default(ansible_architecture) }}/snmp_exporter", "dest": "/usr/local/bin/snmp_exporter", "mode": 493}, "executable": "copy", "executable_type": "Module", "fqcn": "ansible.builtin.copy", "annotations": {}}, "{\"path\": \"./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml\", \"index\": 3}": {"py/object": "struct4.Task", "name": "Create configuration directory", "module": "file", "index": 3, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml", "options": {"name": "Create configuration directory"}, "module_options": {"path": "/etc/snmp_exporter", "state": "directory", "owner": "root", "group": "root", "mode": 493}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}, "{\"path\": \"./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "", "module": "include", "index": 0, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml", "options": {"tags": ["snmp_exporter_install", "snmp_exporter_configure", "snmp_exporter_run"]}, "module_options": "preflight.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, "{\"path\": \"./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml\", \"index\": 1}": {"py/object": "struct4.Task", "name": "", "module": "include", "index": 1, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml", "options": {"become": true, "tags": ["snmp_exporter_install"]}, "module_options": "install.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, "{\"path\": \"./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml\", \"index\": 2}": {"py/object": "struct4.Task", "name": "", "module": "include", "index": 2, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml", "options": {"become": true, "tags": ["snmp_exporter_configure"]}, "module_options": "configure.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, "{\"path\": \"./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml\", \"index\": 3}": {"py/object": "struct4.Task", "name": "ensure snmp_exporter service is started and enabled", "module": "systemd", "index": 3, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml", "options": {"name": "ensure snmp_exporter service is started and enabled", "become": true, "tags": ["snmp_exporter_run"]}, "module_options": {"daemon_reload": true, "name": "snmp_exporter", "state": "started", "enabled": true}, "executable": "systemd", "executable_type": "Module", "fqcn": "ansible.builtin.systemd", "annotations": {}}}, "taskfile_dict": {"./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/preflight.yml": {"py/object": "struct4.TaskFile", "name": "preflight.yml", "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/preflight.yml", "tasks": [{"py/object": "struct4.Task", "name": "Get checksum for {{ go_arch_map[ansible_architecture] | default(ansible_architecture) }} architecture", "module": "set_fact", "index": 0, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/preflight.yml", "options": {"name": "Get checksum for {{ go_arch_map[ansible_architecture] | default(ansible_architecture) }} architecture", "with_items": ["{{ lookup('url', 'https://github.com/prometheus/snmp_exporter/releases/download/v' + snmp_exporter_version + '/sha256sums.txt', wantlist=True) | list }}"], "when": "('linux-' + (go_arch_map[ansible_architecture] | default(ansible_architecture)) + '.tar.gz') in item"}, "module_options": {"snmp_exporter_checksum": "{{ item.split(' ')[0] }}"}, "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}], "role": "cloudalchemy.snmp-exporter", "used_in": [], "annotations": {}}, "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/configure.yml": {"py/object": "struct4.TaskFile", "name": "configure.yml", "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/configure.yml", "tasks": [{"py/object": "struct4.Task", "name": "Copy the SNMP Exporter systemd service file", "module": "template", "index": 0, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/configure.yml", "options": {"name": "Copy the SNMP Exporter systemd service file", "notify": ["restart snmp exporter"]}, "module_options": {"src": "snmp_exporter.service.j2", "dest": "/etc/systemd/system/snmp_exporter.service", "owner": "root", "group": "root", "mode": 420}, "executable": "template", "executable_type": "Module", "fqcn": "ansible.builtin.template", "annotations": {}}, {"py/object": "struct4.Task", "name": "Download snmp configuration file from github repository", "module": "get_url", "index": 1, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/configure.yml", "options": {"name": "Download snmp configuration file from github repository", "register": "_download_config", "until": "_download_config is success", "retries": 5, "delay": 2, "notify": ["reload snmp exporter"], "when": "snmp_exporter_config_file == \"\""}, "module_options": {"url": "https://raw.githubusercontent.com/prometheus/snmp_exporter/v{{ snmp_exporter_version }}/snmp.yml", "dest": "/etc/snmp_exporter/snmp.yml", "validate_certs": false, "owner": "root", "group": "root", "mode": 420}, "executable": "get_url", "executable_type": "Module", "fqcn": "ansible.builtin.get_url", "annotations": {}}, {"py/object": "struct4.Task", "name": "Copy configuration file", "module": "template", "index": 2, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/configure.yml", "options": {"name": "Copy configuration file", "no_log": "{{ 'true' if __testing_on_travis is defined else 'false' }}", "notify": ["reload snmp exporter"], "when": "snmp_exporter_config_file != \"\""}, "module_options": {"src": "{{ snmp_exporter_config_file }}", "dest": "/etc/snmp_exporter/snmp.yml", "owner": "root", "group": "root", "mode": 420}, "executable": "template", "executable_type": "Module", "fqcn": "ansible.builtin.template", "annotations": {}}], "role": "cloudalchemy.snmp-exporter", "used_in": [], "annotations": {}}, "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml": {"py/object": "struct4.TaskFile", "name": "install.yml", "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml", "tasks": [{"py/object": "struct4.Task", "name": "Download snmp_exporter binary to local folder", "module": "get_url", "index": 0, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml", "options": {"name": "Download snmp_exporter binary to local folder", "become": false, "register": "_download_binary", "until": "_download_binary is success", "retries": 5, "delay": 2, "delegate_to": "localhost", "check_mode": false}, "module_options": {"url": "https://github.com/prometheus/snmp_exporter/releases/download/v{{ snmp_exporter_version }}/snmp_exporter-{{ snmp_exporter_version }}.linux-{{ go_arch_map[ansible_architecture] | default(ansible_architecture) }}.tar.gz", "dest": "/tmp", "checksum": "sha256:{{ snmp_exporter_checksum }}"}, "executable": "get_url", "executable_type": "Module", "fqcn": "ansible.builtin.get_url", "annotations": {}}, {"py/object": "struct4.Task", "name": "Unpack snmp_exporter binary", "module": "unarchive", "index": 1, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml", "options": {"name": "Unpack snmp_exporter binary", "become": false, "delegate_to": "localhost", "check_mode": false}, "module_options": {"src": "/tmp/snmp_exporter-{{ snmp_exporter_version }}.linux-{{ go_arch_map[ansible_architecture] | default(ansible_architecture) }}.tar.gz", "dest": "/tmp", "creates": "/tmp/snmp_exporter-{{ snmp_exporter_version }}.linux-{{ go_arch_map[ansible_architecture] | default(ansible_architecture) }}/snmp_exporter"}, "executable": "unarchive", "executable_type": "Module", "fqcn": "ansible.builtin.unarchive", "annotations": {}}, {"py/object": "struct4.Task", "name": "Propagate SNMP Exporter binaries", "module": "copy", "index": 2, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml", "options": {"name": "Propagate SNMP Exporter binaries", "notify": ["restart snmp exporter"]}, "module_options": {"src": "/tmp/snmp_exporter-{{ snmp_exporter_version }}.linux-{{ go_arch_map[ansible_architecture] | default(ansible_architecture) }}/snmp_exporter", "dest": "/usr/local/bin/snmp_exporter", "mode": 493}, "executable": "copy", "executable_type": "Module", "fqcn": "ansible.builtin.copy", "annotations": {}}, {"py/object": "struct4.Task", "name": "Create configuration directory", "module": "file", "index": 3, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml", "options": {"name": "Create configuration directory"}, "module_options": {"path": "/etc/snmp_exporter", "state": "directory", "owner": "root", "group": "root", "mode": 493}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}], "role": "cloudalchemy.snmp-exporter", "used_in": [], "annotations": {}}, "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml": {"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "", "module": "include", "index": 0, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml", "options": {"tags": ["snmp_exporter_install", "snmp_exporter_configure", "snmp_exporter_run"]}, "module_options": "preflight.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include", "index": 1, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml", "options": {"become": true, "tags": ["snmp_exporter_install"]}, "module_options": "install.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include", "index": 2, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml", "options": {"become": true, "tags": ["snmp_exporter_configure"]}, "module_options": "configure.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, {"py/object": "struct4.Task", "name": "ensure snmp_exporter service is started and enabled", "module": "systemd", "index": 3, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml", "options": {"name": "ensure snmp_exporter service is started and enabled", "become": true, "tags": ["snmp_exporter_run"]}, "module_options": {"daemon_reload": true, "name": "snmp_exporter", "state": "started", "enabled": true}, "executable": "systemd", "executable_type": "Module", "fqcn": "ansible.builtin.systemd", "annotations": {}}], "role": "cloudalchemy.snmp-exporter", "used_in": [], "annotations": {}}}, "role_dict": {"cloudalchemy.snmp-exporter": {"py/object": "struct4.Role", "name": "cloudalchemy.snmp-exporter", "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter", "fqcn": "cloudalchemy.snmp-exporter", "collection": "", "taskfiles": [{"py/object": "struct4.TaskFile", "name": "preflight.yml", "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/preflight.yml", "tasks": [{"py/object": "struct4.Task", "name": "Get checksum for {{ go_arch_map[ansible_architecture] | default(ansible_architecture) }} architecture", "module": "set_fact", "index": 0, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/preflight.yml", "options": {"name": "Get checksum for {{ go_arch_map[ansible_architecture] | default(ansible_architecture) }} architecture", "with_items": ["{{ lookup('url', 'https://github.com/prometheus/snmp_exporter/releases/download/v' + snmp_exporter_version + '/sha256sums.txt', wantlist=True) | list }}"], "when": "('linux-' + (go_arch_map[ansible_architecture] | default(ansible_architecture)) + '.tar.gz') in item"}, "module_options": {"snmp_exporter_checksum": "{{ item.split(' ')[0] }}"}, "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}], "role": "cloudalchemy.snmp-exporter", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "configure.yml", "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/configure.yml", "tasks": [{"py/object": "struct4.Task", "name": "Copy the SNMP Exporter systemd service file", "module": "template", "index": 0, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/configure.yml", "options": {"name": "Copy the SNMP Exporter systemd service file", "notify": ["restart snmp exporter"]}, "module_options": {"src": "snmp_exporter.service.j2", "dest": "/etc/systemd/system/snmp_exporter.service", "owner": "root", "group": "root", "mode": 420}, "executable": "template", "executable_type": "Module", "fqcn": "ansible.builtin.template", "annotations": {}}, {"py/object": "struct4.Task", "name": "Download snmp configuration file from github repository", "module": "get_url", "index": 1, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/configure.yml", "options": {"name": "Download snmp configuration file from github repository", "register": "_download_config", "until": "_download_config is success", "retries": 5, "delay": 2, "notify": ["reload snmp exporter"], "when": "snmp_exporter_config_file == \"\""}, "module_options": {"url": "https://raw.githubusercontent.com/prometheus/snmp_exporter/v{{ snmp_exporter_version }}/snmp.yml", "dest": "/etc/snmp_exporter/snmp.yml", "validate_certs": false, "owner": "root", "group": "root", "mode": 420}, "executable": "get_url", "executable_type": "Module", "fqcn": "ansible.builtin.get_url", "annotations": {}}, {"py/object": "struct4.Task", "name": "Copy configuration file", "module": "template", "index": 2, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/configure.yml", "options": {"name": "Copy configuration file", "no_log": "{{ 'true' if __testing_on_travis is defined else 'false' }}", "notify": ["reload snmp exporter"], "when": "snmp_exporter_config_file != \"\""}, "module_options": {"src": "{{ snmp_exporter_config_file }}", "dest": "/etc/snmp_exporter/snmp.yml", "owner": "root", "group": "root", "mode": 420}, "executable": "template", "executable_type": "Module", "fqcn": "ansible.builtin.template", "annotations": {}}], "role": "cloudalchemy.snmp-exporter", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "install.yml", "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml", "tasks": [{"py/object": "struct4.Task", "name": "Download snmp_exporter binary to local folder", "module": "get_url", "index": 0, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml", "options": {"name": "Download snmp_exporter binary to local folder", "become": false, "register": "_download_binary", "until": "_download_binary is success", "retries": 5, "delay": 2, "delegate_to": "localhost", "check_mode": false}, "module_options": {"url": "https://github.com/prometheus/snmp_exporter/releases/download/v{{ snmp_exporter_version }}/snmp_exporter-{{ snmp_exporter_version }}.linux-{{ go_arch_map[ansible_architecture] | default(ansible_architecture) }}.tar.gz", "dest": "/tmp", "checksum": "sha256:{{ snmp_exporter_checksum }}"}, "executable": "get_url", "executable_type": "Module", "fqcn": "ansible.builtin.get_url", "annotations": {}}, {"py/object": "struct4.Task", "name": "Unpack snmp_exporter binary", "module": "unarchive", "index": 1, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml", "options": {"name": "Unpack snmp_exporter binary", "become": false, "delegate_to": "localhost", "check_mode": false}, "module_options": {"src": "/tmp/snmp_exporter-{{ snmp_exporter_version }}.linux-{{ go_arch_map[ansible_architecture] | default(ansible_architecture) }}.tar.gz", "dest": "/tmp", "creates": "/tmp/snmp_exporter-{{ snmp_exporter_version }}.linux-{{ go_arch_map[ansible_architecture] | default(ansible_architecture) }}/snmp_exporter"}, "executable": "unarchive", "executable_type": "Module", "fqcn": "ansible.builtin.unarchive", "annotations": {}}, {"py/object": "struct4.Task", "name": "Propagate SNMP Exporter binaries", "module": "copy", "index": 2, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml", "options": {"name": "Propagate SNMP Exporter binaries", "notify": ["restart snmp exporter"]}, "module_options": {"src": "/tmp/snmp_exporter-{{ snmp_exporter_version }}.linux-{{ go_arch_map[ansible_architecture] | default(ansible_architecture) }}/snmp_exporter", "dest": "/usr/local/bin/snmp_exporter", "mode": 493}, "executable": "copy", "executable_type": "Module", "fqcn": "ansible.builtin.copy", "annotations": {}}, {"py/object": "struct4.Task", "name": "Create configuration directory", "module": "file", "index": 3, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/install.yml", "options": {"name": "Create configuration directory"}, "module_options": {"path": "/etc/snmp_exporter", "state": "directory", "owner": "root", "group": "root", "mode": 493}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}], "role": "cloudalchemy.snmp-exporter", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "", "module": "include", "index": 0, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml", "options": {"tags": ["snmp_exporter_install", "snmp_exporter_configure", "snmp_exporter_run"]}, "module_options": "preflight.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include", "index": 1, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml", "options": {"become": true, "tags": ["snmp_exporter_install"]}, "module_options": "install.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include", "index": 2, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml", "options": {"become": true, "tags": ["snmp_exporter_configure"]}, "module_options": "configure.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, {"py/object": "struct4.Task", "name": "ensure snmp_exporter service is started and enabled", "module": "systemd", "index": 3, "defined_in": "./role-test/testdata/cloudalchemy-snmp-exporter/cloudalchemy.snmp-exporter/tasks/main.yml", "options": {"name": "ensure snmp_exporter service is started and enabled", "become": true, "tags": ["snmp_exporter_run"]}, "module_options": {"daemon_reload": true, "name": "snmp_exporter", "state": "started", "enabled": true}, "executable": "systemd", "executable_type": "Module", "fqcn": "ansible.builtin.systemd", "annotations": {}}], "role": "cloudalchemy.snmp-exporter", "used_in": [], "annotations": {}}], "modules": [], "source": "", "annotations": {}, "used_in": []}}, "annotations": {}}