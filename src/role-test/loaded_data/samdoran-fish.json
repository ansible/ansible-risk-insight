{"py/object": "struct4.Repository", "name": "", "path": "", "my_collection_name": "", "playbooks": [], "roles": [], "installed_collections_path": "", "installed_collections": [], "installed_roles_path": "./role-test/testdata/samdoran-fish", "installed_roles": [{"py/object": "struct4.Role", "name": "samdoran.fish", "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish", "fqcn": "samdoran.fish", "collection": "", "taskfiles": [{"py/object": "struct4.TaskFile", "name": "install-Debian.yml", "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml", "tasks": [{"py/object": "struct4.Task", "name": "DEBIAN | Require fish >= 3 on Debian >= 10", "module": "fail", "index": 0, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml", "options": {"name": "DEBIAN | Require fish >= 3 on Debian >= 10", "when": ["ansible_facts.distribution == 'Debian'", "fish_release_version is version('3', '<')", "ansible_facts.distribution_major_version is version('10', '>=')"], "tags": ["fish"]}, "module_options": {"msg": "Only fish >= 3 is supported on Debian >= 10"}, "executable": "fail", "executable_type": "Module", "fqcn": "ansible.builtin.fail", "annotations": {}}, {"py/object": "struct4.Task", "name": "DEBIAN | Add fish repository key", "module": "apt_key", "index": 1, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml", "options": {"name": "DEBIAN | Add fish repository key", "tags": ["fish"]}, "module_options": {"keyserver": "{{ _fish_apt_keyserver | default(omit) }}", "url": "{{ _fish_apt_key_url | default(omit) }}", "id": "{{ _fish_apt_key_id | default(omit) }}", "state": "present"}, "executable": "apt_key", "executable_type": "Module", "fqcn": "ansible.builtin.apt_key", "annotations": {}}, {"py/object": "struct4.Task", "name": "DEBIAN | Add fish repository", "module": "apt_repository", "index": 2, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml", "options": {"name": "DEBIAN | Add fish repository", "tags": ["fish"]}, "module_options": {"filename": "shells_fish_release_{{ fish_release_version }}", "repo": "{{ _fish_apt_repo_url }}"}, "executable": "apt_repository", "executable_type": "Module", "fqcn": "ansible.builtin.apt_repository", "annotations": {}}, {"py/object": "struct4.Task", "name": "DEBIAN | Install fish", "module": "apt", "index": 3, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml", "options": {"name": "DEBIAN | Install fish", "tags": ["fish"]}, "module_options": {"name": "fish", "allow_unauthenticated": true, "state": "latest", "cache_valid_time": 600}, "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}], "role": "samdoran.fish", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "install-Darwin.yml", "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Darwin.yml", "tasks": [{"py/object": "struct4.Task", "name": "MACOS | Install fish", "module": "homebrew", "index": 0, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Darwin.yml", "options": {"name": "MACOS | Install fish", "tags": ["fish"]}, "module_options": {"name": "fish", "state": "latest"}, "executable": "homebrew", "executable_type": "Module", "fqcn": "", "annotations": {}}], "role": "samdoran.fish", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "Ensure fish version is valid", "module": "assert", "index": 0, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/main.yml", "options": {"name": "Ensure fish version is valid"}, "module_options": {"that": ["fish_release_version in _fish_valid_versions"], "fail_msg": "Invalid fish_release_version '{{ fish_release_version }}'. Valid versions are {{ _fish_valid_versions | join(', ') }}."}, "executable": "assert", "executable_type": "Module", "fqcn": "ansible.builtin.assert", "annotations": {}}, {"py/object": "struct4.Task", "name": "Include distribution specific variables", "module": "include_vars", "index": 1, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/main.yml", "options": {"name": "Include distribution specific variables", "vars": {"params": {"files": ["{{ ansible_facts.os_family }}-{{ ansible_facts.distribution_major_version }}.yml", "{{ ansible_facts.distribution }}-{{ ansible_facts.distribution_version }}.yml", "{{ ansible_facts.distribution }}.yml", "{{ ansible_facts.os_family }}.yml"], "paths": ["vars"]}}, "tags": ["fish"]}, "module_options": "{{ lookup('first_found', params) }}", "executable": "include_vars", "executable_type": "Module", "fqcn": "ansible.builtin.include_vars", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 2, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/main.yml", "options": {"tags": ["fish"]}, "module_options": "install-{{ ansible_facts.os_family }}.yml", "executable": "install-{{ ansible_facts.os_family }}.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}], "role": "samdoran.fish", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "install-RedHat.yml", "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml", "tasks": [{"py/object": "struct4.Task", "name": "RHEL | Require Fish >=3 for newer RHEL", "module": "fail", "index": 0, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml", "options": {"name": "RHEL | Require Fish >=3 for newer RHEL", "when": ["ansible_facts.distribution in ['RedHat', 'CentOS']", "fish_release_version is version('3', '<')", "ansible_facts.distribution_major_version is version('8', '>=')"], "tags": ["fish"]}, "module_options": {"msg": "Only fish >= 3 is supported on RHEL >= 8"}, "executable": "fail", "executable_type": "Module", "fqcn": "ansible.builtin.fail", "annotations": {}}, {"py/object": "struct4.Task", "name": "RHEL | Require Fish >=3 for newer Fedora", "module": "fail", "index": 1, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml", "options": {"name": "RHEL | Require Fish >=3 for newer Fedora", "when": ["ansible_facts.distribution == 'Fedora'", "fish_release_version is version('3', '<')", "ansible_facts.distribution_major_version is version('28', '>=')"], "tags": ["fish"]}, "module_options": {"msg": "Only fish >= 3 is supported on Fedora >= 28"}, "executable": "fail", "executable_type": "Module", "fqcn": "ansible.builtin.fail", "annotations": {}}, {"py/object": "struct4.Task", "name": "RHEL | Create yum repo", "module": "yum_repository", "index": 2, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml", "options": {"name": "RHEL | Create yum repo", "tags": ["fish"]}, "module_options": {"name": "shells_fish_release_{{ fish_release_version }}", "description": "Fish shell - {{ fish_release_version }}.x release series ({{ _fish_repo_version_string }})", "baseurl": "http://download.opensuse.org/repositories/shells:/fish:/release:/{{ fish_release_version }}/{{ _fish_repo_version_string }}/", "gpgkey": "http://download.opensuse.org/repositories/shells:/fish:/release:/{{ fish_release_version }}/{{ _fish_repo_version_string }}/repodata/repomd.xml.key", "enabled": true, "gpgcheck": true, "file": "fish"}, "executable": "yum_repository", "executable_type": "Module", "fqcn": "ansible.builtin.yum_repository", "annotations": {}}, {"py/object": "struct4.Task", "name": "RHEL | Install Fish", "module": "", "index": 3, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml", "options": {"name": "RHEL | Install Fish", "action": "{{ ansible_facts.pkg_mgr }}", "args": {"name": "fish", "state": "latest"}, "tags": ["fish"]}, "module_options": {}, "executable": "", "executable_type": "Module", "fqcn": "", "annotations": {}}], "role": "samdoran.fish", "used_in": [], "annotations": {}}], "modules": [], "source": "", "annotations": {}, "used_in": []}], "modules": [], "taskfiles": [], "version": "", "module_dict": {}, "task_dict": {"{\"path\": \"./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "DEBIAN | Require fish >= 3 on Debian >= 10", "module": "fail", "index": 0, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml", "options": {"name": "DEBIAN | Require fish >= 3 on Debian >= 10", "when": ["ansible_facts.distribution == 'Debian'", "fish_release_version is version('3', '<')", "ansible_facts.distribution_major_version is version('10', '>=')"], "tags": ["fish"]}, "module_options": {"msg": "Only fish >= 3 is supported on Debian >= 10"}, "executable": "fail", "executable_type": "Module", "fqcn": "ansible.builtin.fail", "annotations": {}}, "{\"path\": \"./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml\", \"index\": 1}": {"py/object": "struct4.Task", "name": "DEBIAN | Add fish repository key", "module": "apt_key", "index": 1, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml", "options": {"name": "DEBIAN | Add fish repository key", "tags": ["fish"]}, "module_options": {"keyserver": "{{ _fish_apt_keyserver | default(omit) }}", "url": "{{ _fish_apt_key_url | default(omit) }}", "id": "{{ _fish_apt_key_id | default(omit) }}", "state": "present"}, "executable": "apt_key", "executable_type": "Module", "fqcn": "ansible.builtin.apt_key", "annotations": {}}, "{\"path\": \"./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml\", \"index\": 2}": {"py/object": "struct4.Task", "name": "DEBIAN | Add fish repository", "module": "apt_repository", "index": 2, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml", "options": {"name": "DEBIAN | Add fish repository", "tags": ["fish"]}, "module_options": {"filename": "shells_fish_release_{{ fish_release_version }}", "repo": "{{ _fish_apt_repo_url }}"}, "executable": "apt_repository", "executable_type": "Module", "fqcn": "ansible.builtin.apt_repository", "annotations": {}}, "{\"path\": \"./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml\", \"index\": 3}": {"py/object": "struct4.Task", "name": "DEBIAN | Install fish", "module": "apt", "index": 3, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml", "options": {"name": "DEBIAN | Install fish", "tags": ["fish"]}, "module_options": {"name": "fish", "allow_unauthenticated": true, "state": "latest", "cache_valid_time": 600}, "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}, "{\"path\": \"./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Darwin.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "MACOS | Install fish", "module": "homebrew", "index": 0, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Darwin.yml", "options": {"name": "MACOS | Install fish", "tags": ["fish"]}, "module_options": {"name": "fish", "state": "latest"}, "executable": "homebrew", "executable_type": "Module", "fqcn": "", "annotations": {}}, "{\"path\": \"./role-test/testdata/samdoran-fish/samdoran.fish/tasks/main.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "Ensure fish version is valid", "module": "assert", "index": 0, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/main.yml", "options": {"name": "Ensure fish version is valid"}, "module_options": {"that": ["fish_release_version in _fish_valid_versions"], "fail_msg": "Invalid fish_release_version '{{ fish_release_version }}'. Valid versions are {{ _fish_valid_versions | join(', ') }}."}, "executable": "assert", "executable_type": "Module", "fqcn": "ansible.builtin.assert", "annotations": {}}, "{\"path\": \"./role-test/testdata/samdoran-fish/samdoran.fish/tasks/main.yml\", \"index\": 1}": {"py/object": "struct4.Task", "name": "Include distribution specific variables", "module": "include_vars", "index": 1, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/main.yml", "options": {"name": "Include distribution specific variables", "vars": {"params": {"files": ["{{ ansible_facts.os_family }}-{{ ansible_facts.distribution_major_version }}.yml", "{{ ansible_facts.distribution }}-{{ ansible_facts.distribution_version }}.yml", "{{ ansible_facts.distribution }}.yml", "{{ ansible_facts.os_family }}.yml"], "paths": ["vars"]}}, "tags": ["fish"]}, "module_options": "{{ lookup('first_found', params) }}", "executable": "include_vars", "executable_type": "Module", "fqcn": "ansible.builtin.include_vars", "annotations": {}}, "{\"path\": \"./role-test/testdata/samdoran-fish/samdoran.fish/tasks/main.yml\", \"index\": 2}": {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 2, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/main.yml", "options": {"tags": ["fish"]}, "module_options": "install-{{ ansible_facts.os_family }}.yml", "executable": "install-{{ ansible_facts.os_family }}.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, "{\"path\": \"./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "RHEL | Require Fish >=3 for newer RHEL", "module": "fail", "index": 0, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml", "options": {"name": "RHEL | Require Fish >=3 for newer RHEL", "when": ["ansible_facts.distribution in ['RedHat', 'CentOS']", "fish_release_version is version('3', '<')", "ansible_facts.distribution_major_version is version('8', '>=')"], "tags": ["fish"]}, "module_options": {"msg": "Only fish >= 3 is supported on RHEL >= 8"}, "executable": "fail", "executable_type": "Module", "fqcn": "ansible.builtin.fail", "annotations": {}}, "{\"path\": \"./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml\", \"index\": 1}": {"py/object": "struct4.Task", "name": "RHEL | Require Fish >=3 for newer Fedora", "module": "fail", "index": 1, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml", "options": {"name": "RHEL | Require Fish >=3 for newer Fedora", "when": ["ansible_facts.distribution == 'Fedora'", "fish_release_version is version('3', '<')", "ansible_facts.distribution_major_version is version('28', '>=')"], "tags": ["fish"]}, "module_options": {"msg": "Only fish >= 3 is supported on Fedora >= 28"}, "executable": "fail", "executable_type": "Module", "fqcn": "ansible.builtin.fail", "annotations": {}}, "{\"path\": \"./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml\", \"index\": 2}": {"py/object": "struct4.Task", "name": "RHEL | Create yum repo", "module": "yum_repository", "index": 2, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml", "options": {"name": "RHEL | Create yum repo", "tags": ["fish"]}, "module_options": {"name": "shells_fish_release_{{ fish_release_version }}", "description": "Fish shell - {{ fish_release_version }}.x release series ({{ _fish_repo_version_string }})", "baseurl": "http://download.opensuse.org/repositories/shells:/fish:/release:/{{ fish_release_version }}/{{ _fish_repo_version_string }}/", "gpgkey": "http://download.opensuse.org/repositories/shells:/fish:/release:/{{ fish_release_version }}/{{ _fish_repo_version_string }}/repodata/repomd.xml.key", "enabled": true, "gpgcheck": true, "file": "fish"}, "executable": "yum_repository", "executable_type": "Module", "fqcn": "ansible.builtin.yum_repository", "annotations": {}}, "{\"path\": \"./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml\", \"index\": 3}": {"py/object": "struct4.Task", "name": "RHEL | Install Fish", "module": "", "index": 3, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml", "options": {"name": "RHEL | Install Fish", "action": "{{ ansible_facts.pkg_mgr }}", "args": {"name": "fish", "state": "latest"}, "tags": ["fish"]}, "module_options": {}, "executable": "", "executable_type": "Module", "fqcn": "", "annotations": {}}}, "taskfile_dict": {"./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml": {"py/object": "struct4.TaskFile", "name": "install-Debian.yml", "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml", "tasks": [{"py/object": "struct4.Task", "name": "DEBIAN | Require fish >= 3 on Debian >= 10", "module": "fail", "index": 0, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml", "options": {"name": "DEBIAN | Require fish >= 3 on Debian >= 10", "when": ["ansible_facts.distribution == 'Debian'", "fish_release_version is version('3', '<')", "ansible_facts.distribution_major_version is version('10', '>=')"], "tags": ["fish"]}, "module_options": {"msg": "Only fish >= 3 is supported on Debian >= 10"}, "executable": "fail", "executable_type": "Module", "fqcn": "ansible.builtin.fail", "annotations": {}}, {"py/object": "struct4.Task", "name": "DEBIAN | Add fish repository key", "module": "apt_key", "index": 1, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml", "options": {"name": "DEBIAN | Add fish repository key", "tags": ["fish"]}, "module_options": {"keyserver": "{{ _fish_apt_keyserver | default(omit) }}", "url": "{{ _fish_apt_key_url | default(omit) }}", "id": "{{ _fish_apt_key_id | default(omit) }}", "state": "present"}, "executable": "apt_key", "executable_type": "Module", "fqcn": "ansible.builtin.apt_key", "annotations": {}}, {"py/object": "struct4.Task", "name": "DEBIAN | Add fish repository", "module": "apt_repository", "index": 2, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml", "options": {"name": "DEBIAN | Add fish repository", "tags": ["fish"]}, "module_options": {"filename": "shells_fish_release_{{ fish_release_version }}", "repo": "{{ _fish_apt_repo_url }}"}, "executable": "apt_repository", "executable_type": "Module", "fqcn": "ansible.builtin.apt_repository", "annotations": {}}, {"py/object": "struct4.Task", "name": "DEBIAN | Install fish", "module": "apt", "index": 3, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml", "options": {"name": "DEBIAN | Install fish", "tags": ["fish"]}, "module_options": {"name": "fish", "allow_unauthenticated": true, "state": "latest", "cache_valid_time": 600}, "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}], "role": "samdoran.fish", "used_in": [], "annotations": {}}, "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Darwin.yml": {"py/object": "struct4.TaskFile", "name": "install-Darwin.yml", "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Darwin.yml", "tasks": [{"py/object": "struct4.Task", "name": "MACOS | Install fish", "module": "homebrew", "index": 0, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Darwin.yml", "options": {"name": "MACOS | Install fish", "tags": ["fish"]}, "module_options": {"name": "fish", "state": "latest"}, "executable": "homebrew", "executable_type": "Module", "fqcn": "", "annotations": {}}], "role": "samdoran.fish", "used_in": [], "annotations": {}}, "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/main.yml": {"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "Ensure fish version is valid", "module": "assert", "index": 0, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/main.yml", "options": {"name": "Ensure fish version is valid"}, "module_options": {"that": ["fish_release_version in _fish_valid_versions"], "fail_msg": "Invalid fish_release_version '{{ fish_release_version }}'. Valid versions are {{ _fish_valid_versions | join(', ') }}."}, "executable": "assert", "executable_type": "Module", "fqcn": "ansible.builtin.assert", "annotations": {}}, {"py/object": "struct4.Task", "name": "Include distribution specific variables", "module": "include_vars", "index": 1, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/main.yml", "options": {"name": "Include distribution specific variables", "vars": {"params": {"files": ["{{ ansible_facts.os_family }}-{{ ansible_facts.distribution_major_version }}.yml", "{{ ansible_facts.distribution }}-{{ ansible_facts.distribution_version }}.yml", "{{ ansible_facts.distribution }}.yml", "{{ ansible_facts.os_family }}.yml"], "paths": ["vars"]}}, "tags": ["fish"]}, "module_options": "{{ lookup('first_found', params) }}", "executable": "include_vars", "executable_type": "Module", "fqcn": "ansible.builtin.include_vars", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 2, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/main.yml", "options": {"tags": ["fish"]}, "module_options": "install-{{ ansible_facts.os_family }}.yml", "executable": "install-{{ ansible_facts.os_family }}.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}], "role": "samdoran.fish", "used_in": [], "annotations": {}}, "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml": {"py/object": "struct4.TaskFile", "name": "install-RedHat.yml", "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml", "tasks": [{"py/object": "struct4.Task", "name": "RHEL | Require Fish >=3 for newer RHEL", "module": "fail", "index": 0, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml", "options": {"name": "RHEL | Require Fish >=3 for newer RHEL", "when": ["ansible_facts.distribution in ['RedHat', 'CentOS']", "fish_release_version is version('3', '<')", "ansible_facts.distribution_major_version is version('8', '>=')"], "tags": ["fish"]}, "module_options": {"msg": "Only fish >= 3 is supported on RHEL >= 8"}, "executable": "fail", "executable_type": "Module", "fqcn": "ansible.builtin.fail", "annotations": {}}, {"py/object": "struct4.Task", "name": "RHEL | Require Fish >=3 for newer Fedora", "module": "fail", "index": 1, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml", "options": {"name": "RHEL | Require Fish >=3 for newer Fedora", "when": ["ansible_facts.distribution == 'Fedora'", "fish_release_version is version('3', '<')", "ansible_facts.distribution_major_version is version('28', '>=')"], "tags": ["fish"]}, "module_options": {"msg": "Only fish >= 3 is supported on Fedora >= 28"}, "executable": "fail", "executable_type": "Module", "fqcn": "ansible.builtin.fail", "annotations": {}}, {"py/object": "struct4.Task", "name": "RHEL | Create yum repo", "module": "yum_repository", "index": 2, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml", "options": {"name": "RHEL | Create yum repo", "tags": ["fish"]}, "module_options": {"name": "shells_fish_release_{{ fish_release_version }}", "description": "Fish shell - {{ fish_release_version }}.x release series ({{ _fish_repo_version_string }})", "baseurl": "http://download.opensuse.org/repositories/shells:/fish:/release:/{{ fish_release_version }}/{{ _fish_repo_version_string }}/", "gpgkey": "http://download.opensuse.org/repositories/shells:/fish:/release:/{{ fish_release_version }}/{{ _fish_repo_version_string }}/repodata/repomd.xml.key", "enabled": true, "gpgcheck": true, "file": "fish"}, "executable": "yum_repository", "executable_type": "Module", "fqcn": "ansible.builtin.yum_repository", "annotations": {}}, {"py/object": "struct4.Task", "name": "RHEL | Install Fish", "module": "", "index": 3, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml", "options": {"name": "RHEL | Install Fish", "action": "{{ ansible_facts.pkg_mgr }}", "args": {"name": "fish", "state": "latest"}, "tags": ["fish"]}, "module_options": {}, "executable": "", "executable_type": "Module", "fqcn": "", "annotations": {}}], "role": "samdoran.fish", "used_in": [], "annotations": {}}}, "role_dict": {"samdoran.fish": {"py/object": "struct4.Role", "name": "samdoran.fish", "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish", "fqcn": "samdoran.fish", "collection": "", "taskfiles": [{"py/object": "struct4.TaskFile", "name": "install-Debian.yml", "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml", "tasks": [{"py/object": "struct4.Task", "name": "DEBIAN | Require fish >= 3 on Debian >= 10", "module": "fail", "index": 0, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml", "options": {"name": "DEBIAN | Require fish >= 3 on Debian >= 10", "when": ["ansible_facts.distribution == 'Debian'", "fish_release_version is version('3', '<')", "ansible_facts.distribution_major_version is version('10', '>=')"], "tags": ["fish"]}, "module_options": {"msg": "Only fish >= 3 is supported on Debian >= 10"}, "executable": "fail", "executable_type": "Module", "fqcn": "ansible.builtin.fail", "annotations": {}}, {"py/object": "struct4.Task", "name": "DEBIAN | Add fish repository key", "module": "apt_key", "index": 1, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml", "options": {"name": "DEBIAN | Add fish repository key", "tags": ["fish"]}, "module_options": {"keyserver": "{{ _fish_apt_keyserver | default(omit) }}", "url": "{{ _fish_apt_key_url | default(omit) }}", "id": "{{ _fish_apt_key_id | default(omit) }}", "state": "present"}, "executable": "apt_key", "executable_type": "Module", "fqcn": "ansible.builtin.apt_key", "annotations": {}}, {"py/object": "struct4.Task", "name": "DEBIAN | Add fish repository", "module": "apt_repository", "index": 2, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml", "options": {"name": "DEBIAN | Add fish repository", "tags": ["fish"]}, "module_options": {"filename": "shells_fish_release_{{ fish_release_version }}", "repo": "{{ _fish_apt_repo_url }}"}, "executable": "apt_repository", "executable_type": "Module", "fqcn": "ansible.builtin.apt_repository", "annotations": {}}, {"py/object": "struct4.Task", "name": "DEBIAN | Install fish", "module": "apt", "index": 3, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Debian.yml", "options": {"name": "DEBIAN | Install fish", "tags": ["fish"]}, "module_options": {"name": "fish", "allow_unauthenticated": true, "state": "latest", "cache_valid_time": 600}, "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}], "role": "samdoran.fish", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "install-Darwin.yml", "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Darwin.yml", "tasks": [{"py/object": "struct4.Task", "name": "MACOS | Install fish", "module": "homebrew", "index": 0, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-Darwin.yml", "options": {"name": "MACOS | Install fish", "tags": ["fish"]}, "module_options": {"name": "fish", "state": "latest"}, "executable": "homebrew", "executable_type": "Module", "fqcn": "", "annotations": {}}], "role": "samdoran.fish", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "Ensure fish version is valid", "module": "assert", "index": 0, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/main.yml", "options": {"name": "Ensure fish version is valid"}, "module_options": {"that": ["fish_release_version in _fish_valid_versions"], "fail_msg": "Invalid fish_release_version '{{ fish_release_version }}'. Valid versions are {{ _fish_valid_versions | join(', ') }}."}, "executable": "assert", "executable_type": "Module", "fqcn": "ansible.builtin.assert", "annotations": {}}, {"py/object": "struct4.Task", "name": "Include distribution specific variables", "module": "include_vars", "index": 1, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/main.yml", "options": {"name": "Include distribution specific variables", "vars": {"params": {"files": ["{{ ansible_facts.os_family }}-{{ ansible_facts.distribution_major_version }}.yml", "{{ ansible_facts.distribution }}-{{ ansible_facts.distribution_version }}.yml", "{{ ansible_facts.distribution }}.yml", "{{ ansible_facts.os_family }}.yml"], "paths": ["vars"]}}, "tags": ["fish"]}, "module_options": "{{ lookup('first_found', params) }}", "executable": "include_vars", "executable_type": "Module", "fqcn": "ansible.builtin.include_vars", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 2, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/main.yml", "options": {"tags": ["fish"]}, "module_options": "install-{{ ansible_facts.os_family }}.yml", "executable": "install-{{ ansible_facts.os_family }}.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}], "role": "samdoran.fish", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "install-RedHat.yml", "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml", "tasks": [{"py/object": "struct4.Task", "name": "RHEL | Require Fish >=3 for newer RHEL", "module": "fail", "index": 0, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml", "options": {"name": "RHEL | Require Fish >=3 for newer RHEL", "when": ["ansible_facts.distribution in ['RedHat', 'CentOS']", "fish_release_version is version('3', '<')", "ansible_facts.distribution_major_version is version('8', '>=')"], "tags": ["fish"]}, "module_options": {"msg": "Only fish >= 3 is supported on RHEL >= 8"}, "executable": "fail", "executable_type": "Module", "fqcn": "ansible.builtin.fail", "annotations": {}}, {"py/object": "struct4.Task", "name": "RHEL | Require Fish >=3 for newer Fedora", "module": "fail", "index": 1, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml", "options": {"name": "RHEL | Require Fish >=3 for newer Fedora", "when": ["ansible_facts.distribution == 'Fedora'", "fish_release_version is version('3', '<')", "ansible_facts.distribution_major_version is version('28', '>=')"], "tags": ["fish"]}, "module_options": {"msg": "Only fish >= 3 is supported on Fedora >= 28"}, "executable": "fail", "executable_type": "Module", "fqcn": "ansible.builtin.fail", "annotations": {}}, {"py/object": "struct4.Task", "name": "RHEL | Create yum repo", "module": "yum_repository", "index": 2, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml", "options": {"name": "RHEL | Create yum repo", "tags": ["fish"]}, "module_options": {"name": "shells_fish_release_{{ fish_release_version }}", "description": "Fish shell - {{ fish_release_version }}.x release series ({{ _fish_repo_version_string }})", "baseurl": "http://download.opensuse.org/repositories/shells:/fish:/release:/{{ fish_release_version }}/{{ _fish_repo_version_string }}/", "gpgkey": "http://download.opensuse.org/repositories/shells:/fish:/release:/{{ fish_release_version }}/{{ _fish_repo_version_string }}/repodata/repomd.xml.key", "enabled": true, "gpgcheck": true, "file": "fish"}, "executable": "yum_repository", "executable_type": "Module", "fqcn": "ansible.builtin.yum_repository", "annotations": {}}, {"py/object": "struct4.Task", "name": "RHEL | Install Fish", "module": "", "index": 3, "defined_in": "./role-test/testdata/samdoran-fish/samdoran.fish/tasks/install-RedHat.yml", "options": {"name": "RHEL | Install Fish", "action": "{{ ansible_facts.pkg_mgr }}", "args": {"name": "fish", "state": "latest"}, "tags": ["fish"]}, "module_options": {}, "executable": "", "executable_type": "Module", "fqcn": "", "annotations": {}}], "role": "samdoran.fish", "used_in": [], "annotations": {}}], "modules": [], "source": "", "annotations": {}, "used_in": []}}, "annotations": {}}