{"py/object": "struct4.Repository", "name": "", "path": "", "my_collection_name": "", "playbooks": [], "roles": [], "installed_collections_path": "", "installed_collections": [], "installed_roles_path": "./role-test/testdata/ansiblebit-oracle-java", "installed_roles": [{"py/object": "struct4.Role", "name": "ansiblebit.oracle-java", "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java", "fqcn": "ansiblebit.oracle-java", "collection": "", "taskfiles": [{"py/object": "struct4.TaskFile", "name": "check_environment.yml", "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml", "tasks": [{"py/object": "struct4.Task", "name": "determine if Java is already installed", "module": "command", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml", "options": {"name": "determine if Java is already installed", "register": "oracle_java_task_installed", "changed_when": "oracle_java_task_installed.rc != 0", "failed_when": false}, "module_options": "which java", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}, {"py/object": "struct4.Task", "name": "set fact oracle_java_installed", "module": "set_fact", "index": 1, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml", "options": {"name": "set fact oracle_java_installed"}, "module_options": "oracle_java_installed={{ not oracle_java_task_installed.changed }}", "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, {"py/object": "struct4.Task", "name": "determine which Java version is installed", "module": "shell", "index": 2, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml", "options": {"name": "determine which Java version is installed", "register": "oracle_java_task_version", "when": "oracle_java_installed", "changed_when": false}, "module_options": "set -o pipefail |\njava -version 2>&1 |\nhead -n 1 |\nawk '{ print $3 }' |\nawk -F '\"' '{ print $2 }'\n", "executable": "shell", "executable_type": "Module", "fqcn": "ansible.builtin.shell", "annotations": {}}, {"py/object": "struct4.Task", "name": "set fact oracle_java_installed_version", "module": "set_fact", "index": 3, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml", "options": {"name": "set fact oracle_java_installed_version", "when": "oracle_java_task_version is defined and oracle_java_task_version.stdout is defined", "changed_when": false}, "module_options": "oracle_java_version_installed=\"{{ oracle_java_task_version.stdout }}\"", "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "debug", "index": 4, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml", "options": {"when": "item is defined and debug | default(false)", "with_items": ["oracle_java_installed", "oracle_java_task_installed", "oracle_java_task_version", "oracle_java_version_installed"], "tags": ["debug"]}, "module_options": "var=\"{{ item }}\"", "executable": "debug", "executable_type": "Module", "fqcn": "ansible.builtin.debug", "annotations": {}}], "role": "ansiblebit.oracle-java", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "debug.yml", "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/debug.yml", "tasks": [{"py/object": "struct4.Task", "name": "", "module": "debug", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/debug.yml", "options": {"when": "item is defined", "with_items": ["oracle_java_cache_valid_time", "oracle_java_home", "oracle_java_installed", "oracle_java_apt_repository", "oracle_java_apt_repository_key", "oracle_java_license_version", "oracle_java_set_as_default", "oracle_java_state", "oracle_java_version_installed", "oracle_java_version_string"]}, "module_options": "var=\"{{ item }}\"", "executable": "debug", "executable_type": "Module", "fqcn": "ansible.builtin.debug", "annotations": {}}], "role": "ansiblebit.oracle-java", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "include OS family/distribution specific variables", "module": "include_vars", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml", "options": {"name": "include OS family/distribution specific variables", "with_first_found": ["{{ role_path }}/defaults/{{ ansible_os_family | lower }}-{{ ansible_distribution | lower }}.yml", "{{ role_path }}/defaults/{{ ansible_os_family | lower }}.yml"], "when": "oracle_java_use_defaults", "tags": ["installation"]}, "module_options": "{{ item }}", "executable": "include_vars", "executable_type": "Module", "fqcn": "ansible.builtin.include_vars", "annotations": {}}, {"py/object": "struct4.Task", "name": "check host environment", "module": "include", "index": 1, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml", "options": {"name": "check host environment"}, "module_options": "check_environment.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include", "index": 2, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml", "options": {"when": "debug | default(false)", "tags": ["debug"]}, "module_options": "debug.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, {"py/object": "struct4.Task", "name": "include OS family/distribution specific task file", "module": "include", "index": 3, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml", "options": {"name": "include OS family/distribution specific task file", "with_first_found": ["installation/{{ ansible_os_family | lower }}/{{ ansible_distribution | lower }}_{{ ansible_distribution_version | lower }}.yml", "installation/{{ ansible_os_family | lower }}/{{ ansible_distribution | lower }}.yml", "installation/{{ ansible_os_family | lower }}/main.yml"], "tags": ["installation"]}, "module_options": "{{ item }}", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, {"py/object": "struct4.Task", "name": "check host environment", "module": "include", "index": 4, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml", "options": {"name": "check host environment"}, "module_options": "check_environment.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}], "role": "ansiblebit.oracle-java", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "debian | ensure the apt repository key is present", "module": "apt_key", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml", "options": {"name": "debian | ensure the apt repository key is present", "when": "oracle_java_apt_repository_key is defined", "become": true}, "module_options": "id=\"{{ oracle_java_apt_repository_key }}\" keyserver=keyserver.ubuntu.com state=present", "executable": "apt_key", "executable_type": "Module", "fqcn": "ansible.builtin.apt_key", "annotations": {}}, {"py/object": "struct4.Task", "name": "debian | ensure the apt repository is present", "module": "apt_repository", "index": 1, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml", "options": {"name": "debian | ensure the apt repository is present", "become": true}, "module_options": "repo=\"{{ oracle_java_apt_repository }}\" update_cache=yes state=present", "executable": "apt_repository", "executable_type": "Module", "fqcn": "ansible.builtin.apt_repository", "annotations": {}}, {"py/object": "struct4.Task", "name": "debian | set license as accepted", "module": "debconf", "index": 2, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml", "options": {"name": "debian | set license as accepted", "become": true}, "module_options": "name=\"{{ oracle_java_deb_package }}\" question=\"{{ oracle_java_license_version }}\" value='true' vtype='select'", "executable": "debconf", "executable_type": "Module", "fqcn": "ansible.builtin.debconf", "annotations": {}}, {"py/object": "struct4.Task", "name": "debian | ensure Java is installed", "module": "apt", "index": 3, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml", "options": {"name": "debian | ensure Java is installed", "register": "oracle_java_task_apt_install", "become": true}, "module_options": "name=\"{{ oracle_java_deb_package }}\" state={{ oracle_java_state }} cache_valid_time={{ oracle_java_cache_valid_time }} update_cache=yes", "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}, {"py/object": "struct4.Task", "name": "debian | set Java version as default", "module": "apt", "index": 4, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml", "options": {"name": "debian | set Java version as default", "register": "oracle_java_task_set_default", "when": "oracle_java_set_as_default", "become": true}, "module_options": "name=\"{{ oracle_java_debconf_package_default }}\" state=present", "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}], "role": "ansiblebit.oracle-java", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/redhat/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "download Java RPM", "module": "get_url", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/redhat/main.yml", "options": {"name": "download Java RPM", "register": "oracle_java_task_rpm_download", "until": "oracle_java_task_rpm_download is succeeded", "become": true, "when": "oracle_java_version_installed is not defined or oracle_java_version_installed != oracle_java_version_string"}, "module_options": {"headers": {"Cookie": "gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie"}, "dest": "{{ oracle_java_dir_source }}/{{ oracle_java_rpm_filename }}", "url": "{{ oracle_java_rpm_url }}", "validate_certs": "{{ oracle_java_rpm_validate_certs }}", "timeout": "{{ oracle_java_download_timeout }}", "force": false}, "executable": "get_url", "executable_type": "Module", "fqcn": "ansible.builtin.get_url", "annotations": {}}, {"py/object": "struct4.Task", "name": "install RPM", "module": "yum", "index": 1, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/redhat/main.yml", "options": {"name": "install RPM", "when": "not oracle_java_task_rpm_download is skipped", "become": true}, "module_options": "name=\"{{ oracle_java_dir_source }}/{{ oracle_java_rpm_filename }}\" state=present", "executable": "yum", "executable_type": "Module", "fqcn": "ansible.builtin.yum", "annotations": {}}, {"py/object": "struct4.Task", "name": "set Java version as default", "module": "alternatives", "index": 2, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/redhat/main.yml", "options": {"name": "set Java version as default", "with_items": [{"path": "{{ oracle_java_home }}/bin", "exe": "java"}, {"path": "{{ oracle_java_home }}/bin", "exe": "keytool"}, {"path": "{{ oracle_java_home }}/bin", "exe": "javac"}, {"path": "{{ oracle_java_home }}/bin", "exe": "javadoc"}], "loop_control": {"loop_var": "java"}, "become": true, "when": "( oracle_java_set_as_default and oracle_java_task_rpm_download is defined and oracle_java_task_rpm_download is changed ) or ( oracle_java_set_as_default and oracle_java_installed is defined and oracle_java_installed and oracle_java_version_installed is defined and oracle_java_version_installed != oracle_java_version_string)", "register": "oracle_java_task_set_default"}, "module_options": "name=\"{{ java.exe }}\" link=\"/usr/bin/{{ java.exe }}\" path=\"{{ java.path }}/{{ java.exe }}\"", "executable": "alternatives", "executable_type": "Module", "fqcn": "", "annotations": {}}], "role": "ansiblebit.oracle-java", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "macosx.yml", "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/darwin/macosx.yml", "tasks": [{"py/object": "struct4.Task", "name": "download DMG file", "module": "get_url", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/darwin/macosx.yml", "options": {"name": "download DMG file", "register": "oracle_java_task_dmg_download", "until": "oracle_java_task_dmg_download is succeeded", "tags": ["installation"]}, "module_options": {"headers": {"Cookie": "gpw_e24=http%3A%2F%2Fwww.oracle.com%2F", "oraclelicense": "accept-securebackup-cookie"}, "dest": "{{ oracle_java_dir_source }}/{{ oracle_java_dmg_filename }}", "url": "{{ oracle_java_dmg_url }}", "validate_certs": "{{ oracle_java_dmg_validate_certs }}", "timeout": "{{ oracle_java_download_timeout }}", "force": false}, "executable": "get_url", "executable_type": "Module", "fqcn": "ansible.builtin.get_url", "annotations": {}}, {"py/object": "struct4.Task", "name": "in case there were changes, check host environment again", "module": "include", "index": 1, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/darwin/macosx.yml", "options": {"name": "in case there were changes, check host environment again"}, "module_options": "../check_environment.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}], "role": "ansiblebit.oracle-java", "used_in": [], "annotations": {}}], "modules": [], "source": "", "annotations": {}, "used_in": []}], "modules": [], "taskfiles": [], "version": "", "module_dict": {}, "task_dict": {"{\"path\": \"./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "determine if Java is already installed", "module": "command", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml", "options": {"name": "determine if Java is already installed", "register": "oracle_java_task_installed", "changed_when": "oracle_java_task_installed.rc != 0", "failed_when": false}, "module_options": "which java", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml\", \"index\": 1}": {"py/object": "struct4.Task", "name": "set fact oracle_java_installed", "module": "set_fact", "index": 1, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml", "options": {"name": "set fact oracle_java_installed"}, "module_options": "oracle_java_installed={{ not oracle_java_task_installed.changed }}", "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml\", \"index\": 2}": {"py/object": "struct4.Task", "name": "determine which Java version is installed", "module": "shell", "index": 2, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml", "options": {"name": "determine which Java version is installed", "register": "oracle_java_task_version", "when": "oracle_java_installed", "changed_when": false}, "module_options": "set -o pipefail |\njava -version 2>&1 |\nhead -n 1 |\nawk '{ print $3 }' |\nawk -F '\"' '{ print $2 }'\n", "executable": "shell", "executable_type": "Module", "fqcn": "ansible.builtin.shell", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml\", \"index\": 3}": {"py/object": "struct4.Task", "name": "set fact oracle_java_installed_version", "module": "set_fact", "index": 3, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml", "options": {"name": "set fact oracle_java_installed_version", "when": "oracle_java_task_version is defined and oracle_java_task_version.stdout is defined", "changed_when": false}, "module_options": "oracle_java_version_installed=\"{{ oracle_java_task_version.stdout }}\"", "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml\", \"index\": 4}": {"py/object": "struct4.Task", "name": "", "module": "debug", "index": 4, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml", "options": {"when": "item is defined and debug | default(false)", "with_items": ["oracle_java_installed", "oracle_java_task_installed", "oracle_java_task_version", "oracle_java_version_installed"], "tags": ["debug"]}, "module_options": "var=\"{{ item }}\"", "executable": "debug", "executable_type": "Module", "fqcn": "ansible.builtin.debug", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/debug.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "", "module": "debug", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/debug.yml", "options": {"when": "item is defined", "with_items": ["oracle_java_cache_valid_time", "oracle_java_home", "oracle_java_installed", "oracle_java_apt_repository", "oracle_java_apt_repository_key", "oracle_java_license_version", "oracle_java_set_as_default", "oracle_java_state", "oracle_java_version_installed", "oracle_java_version_string"]}, "module_options": "var=\"{{ item }}\"", "executable": "debug", "executable_type": "Module", "fqcn": "ansible.builtin.debug", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "include OS family/distribution specific variables", "module": "include_vars", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml", "options": {"name": "include OS family/distribution specific variables", "with_first_found": ["{{ role_path }}/defaults/{{ ansible_os_family | lower }}-{{ ansible_distribution | lower }}.yml", "{{ role_path }}/defaults/{{ ansible_os_family | lower }}.yml"], "when": "oracle_java_use_defaults", "tags": ["installation"]}, "module_options": "{{ item }}", "executable": "include_vars", "executable_type": "Module", "fqcn": "ansible.builtin.include_vars", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml\", \"index\": 1}": {"py/object": "struct4.Task", "name": "check host environment", "module": "include", "index": 1, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml", "options": {"name": "check host environment"}, "module_options": "check_environment.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml\", \"index\": 2}": {"py/object": "struct4.Task", "name": "", "module": "include", "index": 2, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml", "options": {"when": "debug | default(false)", "tags": ["debug"]}, "module_options": "debug.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml\", \"index\": 3}": {"py/object": "struct4.Task", "name": "include OS family/distribution specific task file", "module": "include", "index": 3, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml", "options": {"name": "include OS family/distribution specific task file", "with_first_found": ["installation/{{ ansible_os_family | lower }}/{{ ansible_distribution | lower }}_{{ ansible_distribution_version | lower }}.yml", "installation/{{ ansible_os_family | lower }}/{{ ansible_distribution | lower }}.yml", "installation/{{ ansible_os_family | lower }}/main.yml"], "tags": ["installation"]}, "module_options": "{{ item }}", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml\", \"index\": 4}": {"py/object": "struct4.Task", "name": "check host environment", "module": "include", "index": 4, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml", "options": {"name": "check host environment"}, "module_options": "check_environment.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "debian | ensure the apt repository key is present", "module": "apt_key", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml", "options": {"name": "debian | ensure the apt repository key is present", "when": "oracle_java_apt_repository_key is defined", "become": true}, "module_options": "id=\"{{ oracle_java_apt_repository_key }}\" keyserver=keyserver.ubuntu.com state=present", "executable": "apt_key", "executable_type": "Module", "fqcn": "ansible.builtin.apt_key", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml\", \"index\": 1}": {"py/object": "struct4.Task", "name": "debian | ensure the apt repository is present", "module": "apt_repository", "index": 1, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml", "options": {"name": "debian | ensure the apt repository is present", "become": true}, "module_options": "repo=\"{{ oracle_java_apt_repository }}\" update_cache=yes state=present", "executable": "apt_repository", "executable_type": "Module", "fqcn": "ansible.builtin.apt_repository", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml\", \"index\": 2}": {"py/object": "struct4.Task", "name": "debian | set license as accepted", "module": "debconf", "index": 2, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml", "options": {"name": "debian | set license as accepted", "become": true}, "module_options": "name=\"{{ oracle_java_deb_package }}\" question=\"{{ oracle_java_license_version }}\" value='true' vtype='select'", "executable": "debconf", "executable_type": "Module", "fqcn": "ansible.builtin.debconf", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml\", \"index\": 3}": {"py/object": "struct4.Task", "name": "debian | ensure Java is installed", "module": "apt", "index": 3, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml", "options": {"name": "debian | ensure Java is installed", "register": "oracle_java_task_apt_install", "become": true}, "module_options": "name=\"{{ oracle_java_deb_package }}\" state={{ oracle_java_state }} cache_valid_time={{ oracle_java_cache_valid_time }} update_cache=yes", "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml\", \"index\": 4}": {"py/object": "struct4.Task", "name": "debian | set Java version as default", "module": "apt", "index": 4, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml", "options": {"name": "debian | set Java version as default", "register": "oracle_java_task_set_default", "when": "oracle_java_set_as_default", "become": true}, "module_options": "name=\"{{ oracle_java_debconf_package_default }}\" state=present", "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/redhat/main.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "download Java RPM", "module": "get_url", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/redhat/main.yml", "options": {"name": "download Java RPM", "register": "oracle_java_task_rpm_download", "until": "oracle_java_task_rpm_download is succeeded", "become": true, "when": "oracle_java_version_installed is not defined or oracle_java_version_installed != oracle_java_version_string"}, "module_options": {"headers": {"Cookie": "gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie"}, "dest": "{{ oracle_java_dir_source }}/{{ oracle_java_rpm_filename }}", "url": "{{ oracle_java_rpm_url }}", "validate_certs": "{{ oracle_java_rpm_validate_certs }}", "timeout": "{{ oracle_java_download_timeout }}", "force": false}, "executable": "get_url", "executable_type": "Module", "fqcn": "ansible.builtin.get_url", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/redhat/main.yml\", \"index\": 1}": {"py/object": "struct4.Task", "name": "install RPM", "module": "yum", "index": 1, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/redhat/main.yml", "options": {"name": "install RPM", "when": "not oracle_java_task_rpm_download is skipped", "become": true}, "module_options": "name=\"{{ oracle_java_dir_source }}/{{ oracle_java_rpm_filename }}\" state=present", "executable": "yum", "executable_type": "Module", "fqcn": "ansible.builtin.yum", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/redhat/main.yml\", \"index\": 2}": {"py/object": "struct4.Task", "name": "set Java version as default", "module": "alternatives", "index": 2, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/redhat/main.yml", "options": {"name": "set Java version as default", "with_items": [{"path": "{{ oracle_java_home }}/bin", "exe": "java"}, {"path": "{{ oracle_java_home }}/bin", "exe": "keytool"}, {"path": "{{ oracle_java_home }}/bin", "exe": "javac"}, {"path": "{{ oracle_java_home }}/bin", "exe": "javadoc"}], "loop_control": {"loop_var": "java"}, "become": true, "when": "( oracle_java_set_as_default and oracle_java_task_rpm_download is defined and oracle_java_task_rpm_download is changed ) or ( oracle_java_set_as_default and oracle_java_installed is defined and oracle_java_installed and oracle_java_version_installed is defined and oracle_java_version_installed != oracle_java_version_string)", "register": "oracle_java_task_set_default"}, "module_options": "name=\"{{ java.exe }}\" link=\"/usr/bin/{{ java.exe }}\" path=\"{{ java.path }}/{{ java.exe }}\"", "executable": "alternatives", "executable_type": "Module", "fqcn": "", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/darwin/macosx.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "download DMG file", "module": "get_url", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/darwin/macosx.yml", "options": {"name": "download DMG file", "register": "oracle_java_task_dmg_download", "until": "oracle_java_task_dmg_download is succeeded", "tags": ["installation"]}, "module_options": {"headers": {"Cookie": "gpw_e24=http%3A%2F%2Fwww.oracle.com%2F", "oraclelicense": "accept-securebackup-cookie"}, "dest": "{{ oracle_java_dir_source }}/{{ oracle_java_dmg_filename }}", "url": "{{ oracle_java_dmg_url }}", "validate_certs": "{{ oracle_java_dmg_validate_certs }}", "timeout": "{{ oracle_java_download_timeout }}", "force": false}, "executable": "get_url", "executable_type": "Module", "fqcn": "ansible.builtin.get_url", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/darwin/macosx.yml\", \"index\": 1}": {"py/object": "struct4.Task", "name": "in case there were changes, check host environment again", "module": "include", "index": 1, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/darwin/macosx.yml", "options": {"name": "in case there were changes, check host environment again"}, "module_options": "../check_environment.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}}, "taskfile_dict": {"./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml": {"py/object": "struct4.TaskFile", "name": "check_environment.yml", "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml", "tasks": [{"py/object": "struct4.Task", "name": "determine if Java is already installed", "module": "command", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml", "options": {"name": "determine if Java is already installed", "register": "oracle_java_task_installed", "changed_when": "oracle_java_task_installed.rc != 0", "failed_when": false}, "module_options": "which java", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}, {"py/object": "struct4.Task", "name": "set fact oracle_java_installed", "module": "set_fact", "index": 1, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml", "options": {"name": "set fact oracle_java_installed"}, "module_options": "oracle_java_installed={{ not oracle_java_task_installed.changed }}", "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, {"py/object": "struct4.Task", "name": "determine which Java version is installed", "module": "shell", "index": 2, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml", "options": {"name": "determine which Java version is installed", "register": "oracle_java_task_version", "when": "oracle_java_installed", "changed_when": false}, "module_options": "set -o pipefail |\njava -version 2>&1 |\nhead -n 1 |\nawk '{ print $3 }' |\nawk -F '\"' '{ print $2 }'\n", "executable": "shell", "executable_type": "Module", "fqcn": "ansible.builtin.shell", "annotations": {}}, {"py/object": "struct4.Task", "name": "set fact oracle_java_installed_version", "module": "set_fact", "index": 3, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml", "options": {"name": "set fact oracle_java_installed_version", "when": "oracle_java_task_version is defined and oracle_java_task_version.stdout is defined", "changed_when": false}, "module_options": "oracle_java_version_installed=\"{{ oracle_java_task_version.stdout }}\"", "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "debug", "index": 4, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml", "options": {"when": "item is defined and debug | default(false)", "with_items": ["oracle_java_installed", "oracle_java_task_installed", "oracle_java_task_version", "oracle_java_version_installed"], "tags": ["debug"]}, "module_options": "var=\"{{ item }}\"", "executable": "debug", "executable_type": "Module", "fqcn": "ansible.builtin.debug", "annotations": {}}], "role": "ansiblebit.oracle-java", "used_in": [], "annotations": {}}, "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/debug.yml": {"py/object": "struct4.TaskFile", "name": "debug.yml", "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/debug.yml", "tasks": [{"py/object": "struct4.Task", "name": "", "module": "debug", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/debug.yml", "options": {"when": "item is defined", "with_items": ["oracle_java_cache_valid_time", "oracle_java_home", "oracle_java_installed", "oracle_java_apt_repository", "oracle_java_apt_repository_key", "oracle_java_license_version", "oracle_java_set_as_default", "oracle_java_state", "oracle_java_version_installed", "oracle_java_version_string"]}, "module_options": "var=\"{{ item }}\"", "executable": "debug", "executable_type": "Module", "fqcn": "ansible.builtin.debug", "annotations": {}}], "role": "ansiblebit.oracle-java", "used_in": [], "annotations": {}}, "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml": {"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "include OS family/distribution specific variables", "module": "include_vars", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml", "options": {"name": "include OS family/distribution specific variables", "with_first_found": ["{{ role_path }}/defaults/{{ ansible_os_family | lower }}-{{ ansible_distribution | lower }}.yml", "{{ role_path }}/defaults/{{ ansible_os_family | lower }}.yml"], "when": "oracle_java_use_defaults", "tags": ["installation"]}, "module_options": "{{ item }}", "executable": "include_vars", "executable_type": "Module", "fqcn": "ansible.builtin.include_vars", "annotations": {}}, {"py/object": "struct4.Task", "name": "check host environment", "module": "include", "index": 1, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml", "options": {"name": "check host environment"}, "module_options": "check_environment.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include", "index": 2, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml", "options": {"when": "debug | default(false)", "tags": ["debug"]}, "module_options": "debug.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, {"py/object": "struct4.Task", "name": "include OS family/distribution specific task file", "module": "include", "index": 3, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml", "options": {"name": "include OS family/distribution specific task file", "with_first_found": ["installation/{{ ansible_os_family | lower }}/{{ ansible_distribution | lower }}_{{ ansible_distribution_version | lower }}.yml", "installation/{{ ansible_os_family | lower }}/{{ ansible_distribution | lower }}.yml", "installation/{{ ansible_os_family | lower }}/main.yml"], "tags": ["installation"]}, "module_options": "{{ item }}", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, {"py/object": "struct4.Task", "name": "check host environment", "module": "include", "index": 4, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml", "options": {"name": "check host environment"}, "module_options": "check_environment.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}], "role": "ansiblebit.oracle-java", "used_in": [], "annotations": {}}, "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml": {"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "debian | ensure the apt repository key is present", "module": "apt_key", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml", "options": {"name": "debian | ensure the apt repository key is present", "when": "oracle_java_apt_repository_key is defined", "become": true}, "module_options": "id=\"{{ oracle_java_apt_repository_key }}\" keyserver=keyserver.ubuntu.com state=present", "executable": "apt_key", "executable_type": "Module", "fqcn": "ansible.builtin.apt_key", "annotations": {}}, {"py/object": "struct4.Task", "name": "debian | ensure the apt repository is present", "module": "apt_repository", "index": 1, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml", "options": {"name": "debian | ensure the apt repository is present", "become": true}, "module_options": "repo=\"{{ oracle_java_apt_repository }}\" update_cache=yes state=present", "executable": "apt_repository", "executable_type": "Module", "fqcn": "ansible.builtin.apt_repository", "annotations": {}}, {"py/object": "struct4.Task", "name": "debian | set license as accepted", "module": "debconf", "index": 2, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml", "options": {"name": "debian | set license as accepted", "become": true}, "module_options": "name=\"{{ oracle_java_deb_package }}\" question=\"{{ oracle_java_license_version }}\" value='true' vtype='select'", "executable": "debconf", "executable_type": "Module", "fqcn": "ansible.builtin.debconf", "annotations": {}}, {"py/object": "struct4.Task", "name": "debian | ensure Java is installed", "module": "apt", "index": 3, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml", "options": {"name": "debian | ensure Java is installed", "register": "oracle_java_task_apt_install", "become": true}, "module_options": "name=\"{{ oracle_java_deb_package }}\" state={{ oracle_java_state }} cache_valid_time={{ oracle_java_cache_valid_time }} update_cache=yes", "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}, {"py/object": "struct4.Task", "name": "debian | set Java version as default", "module": "apt", "index": 4, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml", "options": {"name": "debian | set Java version as default", "register": "oracle_java_task_set_default", "when": "oracle_java_set_as_default", "become": true}, "module_options": "name=\"{{ oracle_java_debconf_package_default }}\" state=present", "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}], "role": "ansiblebit.oracle-java", "used_in": [], "annotations": {}}, "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/redhat/main.yml": {"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/redhat/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "download Java RPM", "module": "get_url", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/redhat/main.yml", "options": {"name": "download Java RPM", "register": "oracle_java_task_rpm_download", "until": "oracle_java_task_rpm_download is succeeded", "become": true, "when": "oracle_java_version_installed is not defined or oracle_java_version_installed != oracle_java_version_string"}, "module_options": {"headers": {"Cookie": "gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie"}, "dest": "{{ oracle_java_dir_source }}/{{ oracle_java_rpm_filename }}", "url": "{{ oracle_java_rpm_url }}", "validate_certs": "{{ oracle_java_rpm_validate_certs }}", "timeout": "{{ oracle_java_download_timeout }}", "force": false}, "executable": "get_url", "executable_type": "Module", "fqcn": "ansible.builtin.get_url", "annotations": {}}, {"py/object": "struct4.Task", "name": "install RPM", "module": "yum", "index": 1, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/redhat/main.yml", "options": {"name": "install RPM", "when": "not oracle_java_task_rpm_download is skipped", "become": true}, "module_options": "name=\"{{ oracle_java_dir_source }}/{{ oracle_java_rpm_filename }}\" state=present", "executable": "yum", "executable_type": "Module", "fqcn": "ansible.builtin.yum", "annotations": {}}, {"py/object": "struct4.Task", "name": "set Java version as default", "module": "alternatives", "index": 2, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/redhat/main.yml", "options": {"name": "set Java version as default", "with_items": [{"path": "{{ oracle_java_home }}/bin", "exe": "java"}, {"path": "{{ oracle_java_home }}/bin", "exe": "keytool"}, {"path": "{{ oracle_java_home }}/bin", "exe": "javac"}, {"path": "{{ oracle_java_home }}/bin", "exe": "javadoc"}], "loop_control": {"loop_var": "java"}, "become": true, "when": "( oracle_java_set_as_default and oracle_java_task_rpm_download is defined and oracle_java_task_rpm_download is changed ) or ( oracle_java_set_as_default and oracle_java_installed is defined and oracle_java_installed and oracle_java_version_installed is defined and oracle_java_version_installed != oracle_java_version_string)", "register": "oracle_java_task_set_default"}, "module_options": "name=\"{{ java.exe }}\" link=\"/usr/bin/{{ java.exe }}\" path=\"{{ java.path }}/{{ java.exe }}\"", "executable": "alternatives", "executable_type": "Module", "fqcn": "", "annotations": {}}], "role": "ansiblebit.oracle-java", "used_in": [], "annotations": {}}, "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/darwin/macosx.yml": {"py/object": "struct4.TaskFile", "name": "macosx.yml", "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/darwin/macosx.yml", "tasks": [{"py/object": "struct4.Task", "name": "download DMG file", "module": "get_url", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/darwin/macosx.yml", "options": {"name": "download DMG file", "register": "oracle_java_task_dmg_download", "until": "oracle_java_task_dmg_download is succeeded", "tags": ["installation"]}, "module_options": {"headers": {"Cookie": "gpw_e24=http%3A%2F%2Fwww.oracle.com%2F", "oraclelicense": "accept-securebackup-cookie"}, "dest": "{{ oracle_java_dir_source }}/{{ oracle_java_dmg_filename }}", "url": "{{ oracle_java_dmg_url }}", "validate_certs": "{{ oracle_java_dmg_validate_certs }}", "timeout": "{{ oracle_java_download_timeout }}", "force": false}, "executable": "get_url", "executable_type": "Module", "fqcn": "ansible.builtin.get_url", "annotations": {}}, {"py/object": "struct4.Task", "name": "in case there were changes, check host environment again", "module": "include", "index": 1, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/darwin/macosx.yml", "options": {"name": "in case there were changes, check host environment again"}, "module_options": "../check_environment.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}], "role": "ansiblebit.oracle-java", "used_in": [], "annotations": {}}}, "role_dict": {"ansiblebit.oracle-java": {"py/object": "struct4.Role", "name": "ansiblebit.oracle-java", "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java", "fqcn": "ansiblebit.oracle-java", "collection": "", "taskfiles": [{"py/object": "struct4.TaskFile", "name": "check_environment.yml", "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml", "tasks": [{"py/object": "struct4.Task", "name": "determine if Java is already installed", "module": "command", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml", "options": {"name": "determine if Java is already installed", "register": "oracle_java_task_installed", "changed_when": "oracle_java_task_installed.rc != 0", "failed_when": false}, "module_options": "which java", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}, {"py/object": "struct4.Task", "name": "set fact oracle_java_installed", "module": "set_fact", "index": 1, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml", "options": {"name": "set fact oracle_java_installed"}, "module_options": "oracle_java_installed={{ not oracle_java_task_installed.changed }}", "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, {"py/object": "struct4.Task", "name": "determine which Java version is installed", "module": "shell", "index": 2, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml", "options": {"name": "determine which Java version is installed", "register": "oracle_java_task_version", "when": "oracle_java_installed", "changed_when": false}, "module_options": "set -o pipefail |\njava -version 2>&1 |\nhead -n 1 |\nawk '{ print $3 }' |\nawk -F '\"' '{ print $2 }'\n", "executable": "shell", "executable_type": "Module", "fqcn": "ansible.builtin.shell", "annotations": {}}, {"py/object": "struct4.Task", "name": "set fact oracle_java_installed_version", "module": "set_fact", "index": 3, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml", "options": {"name": "set fact oracle_java_installed_version", "when": "oracle_java_task_version is defined and oracle_java_task_version.stdout is defined", "changed_when": false}, "module_options": "oracle_java_version_installed=\"{{ oracle_java_task_version.stdout }}\"", "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "debug", "index": 4, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/check_environment.yml", "options": {"when": "item is defined and debug | default(false)", "with_items": ["oracle_java_installed", "oracle_java_task_installed", "oracle_java_task_version", "oracle_java_version_installed"], "tags": ["debug"]}, "module_options": "var=\"{{ item }}\"", "executable": "debug", "executable_type": "Module", "fqcn": "ansible.builtin.debug", "annotations": {}}], "role": "ansiblebit.oracle-java", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "debug.yml", "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/debug.yml", "tasks": [{"py/object": "struct4.Task", "name": "", "module": "debug", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/debug.yml", "options": {"when": "item is defined", "with_items": ["oracle_java_cache_valid_time", "oracle_java_home", "oracle_java_installed", "oracle_java_apt_repository", "oracle_java_apt_repository_key", "oracle_java_license_version", "oracle_java_set_as_default", "oracle_java_state", "oracle_java_version_installed", "oracle_java_version_string"]}, "module_options": "var=\"{{ item }}\"", "executable": "debug", "executable_type": "Module", "fqcn": "ansible.builtin.debug", "annotations": {}}], "role": "ansiblebit.oracle-java", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "include OS family/distribution specific variables", "module": "include_vars", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml", "options": {"name": "include OS family/distribution specific variables", "with_first_found": ["{{ role_path }}/defaults/{{ ansible_os_family | lower }}-{{ ansible_distribution | lower }}.yml", "{{ role_path }}/defaults/{{ ansible_os_family | lower }}.yml"], "when": "oracle_java_use_defaults", "tags": ["installation"]}, "module_options": "{{ item }}", "executable": "include_vars", "executable_type": "Module", "fqcn": "ansible.builtin.include_vars", "annotations": {}}, {"py/object": "struct4.Task", "name": "check host environment", "module": "include", "index": 1, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml", "options": {"name": "check host environment"}, "module_options": "check_environment.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include", "index": 2, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml", "options": {"when": "debug | default(false)", "tags": ["debug"]}, "module_options": "debug.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, {"py/object": "struct4.Task", "name": "include OS family/distribution specific task file", "module": "include", "index": 3, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml", "options": {"name": "include OS family/distribution specific task file", "with_first_found": ["installation/{{ ansible_os_family | lower }}/{{ ansible_distribution | lower }}_{{ ansible_distribution_version | lower }}.yml", "installation/{{ ansible_os_family | lower }}/{{ ansible_distribution | lower }}.yml", "installation/{{ ansible_os_family | lower }}/main.yml"], "tags": ["installation"]}, "module_options": "{{ item }}", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}, {"py/object": "struct4.Task", "name": "check host environment", "module": "include", "index": 4, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/main.yml", "options": {"name": "check host environment"}, "module_options": "check_environment.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}], "role": "ansiblebit.oracle-java", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "debian | ensure the apt repository key is present", "module": "apt_key", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml", "options": {"name": "debian | ensure the apt repository key is present", "when": "oracle_java_apt_repository_key is defined", "become": true}, "module_options": "id=\"{{ oracle_java_apt_repository_key }}\" keyserver=keyserver.ubuntu.com state=present", "executable": "apt_key", "executable_type": "Module", "fqcn": "ansible.builtin.apt_key", "annotations": {}}, {"py/object": "struct4.Task", "name": "debian | ensure the apt repository is present", "module": "apt_repository", "index": 1, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml", "options": {"name": "debian | ensure the apt repository is present", "become": true}, "module_options": "repo=\"{{ oracle_java_apt_repository }}\" update_cache=yes state=present", "executable": "apt_repository", "executable_type": "Module", "fqcn": "ansible.builtin.apt_repository", "annotations": {}}, {"py/object": "struct4.Task", "name": "debian | set license as accepted", "module": "debconf", "index": 2, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml", "options": {"name": "debian | set license as accepted", "become": true}, "module_options": "name=\"{{ oracle_java_deb_package }}\" question=\"{{ oracle_java_license_version }}\" value='true' vtype='select'", "executable": "debconf", "executable_type": "Module", "fqcn": "ansible.builtin.debconf", "annotations": {}}, {"py/object": "struct4.Task", "name": "debian | ensure Java is installed", "module": "apt", "index": 3, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml", "options": {"name": "debian | ensure Java is installed", "register": "oracle_java_task_apt_install", "become": true}, "module_options": "name=\"{{ oracle_java_deb_package }}\" state={{ oracle_java_state }} cache_valid_time={{ oracle_java_cache_valid_time }} update_cache=yes", "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}, {"py/object": "struct4.Task", "name": "debian | set Java version as default", "module": "apt", "index": 4, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/debian/main.yml", "options": {"name": "debian | set Java version as default", "register": "oracle_java_task_set_default", "when": "oracle_java_set_as_default", "become": true}, "module_options": "name=\"{{ oracle_java_debconf_package_default }}\" state=present", "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}], "role": "ansiblebit.oracle-java", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/redhat/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "download Java RPM", "module": "get_url", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/redhat/main.yml", "options": {"name": "download Java RPM", "register": "oracle_java_task_rpm_download", "until": "oracle_java_task_rpm_download is succeeded", "become": true, "when": "oracle_java_version_installed is not defined or oracle_java_version_installed != oracle_java_version_string"}, "module_options": {"headers": {"Cookie": "gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie"}, "dest": "{{ oracle_java_dir_source }}/{{ oracle_java_rpm_filename }}", "url": "{{ oracle_java_rpm_url }}", "validate_certs": "{{ oracle_java_rpm_validate_certs }}", "timeout": "{{ oracle_java_download_timeout }}", "force": false}, "executable": "get_url", "executable_type": "Module", "fqcn": "ansible.builtin.get_url", "annotations": {}}, {"py/object": "struct4.Task", "name": "install RPM", "module": "yum", "index": 1, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/redhat/main.yml", "options": {"name": "install RPM", "when": "not oracle_java_task_rpm_download is skipped", "become": true}, "module_options": "name=\"{{ oracle_java_dir_source }}/{{ oracle_java_rpm_filename }}\" state=present", "executable": "yum", "executable_type": "Module", "fqcn": "ansible.builtin.yum", "annotations": {}}, {"py/object": "struct4.Task", "name": "set Java version as default", "module": "alternatives", "index": 2, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/installation/redhat/main.yml", "options": {"name": "set Java version as default", "with_items": [{"path": "{{ oracle_java_home }}/bin", "exe": "java"}, {"path": "{{ oracle_java_home }}/bin", "exe": "keytool"}, {"path": "{{ oracle_java_home }}/bin", "exe": "javac"}, {"path": "{{ oracle_java_home }}/bin", "exe": "javadoc"}], "loop_control": {"loop_var": "java"}, "become": true, "when": "( oracle_java_set_as_default and oracle_java_task_rpm_download is defined and oracle_java_task_rpm_download is changed ) or ( oracle_java_set_as_default and oracle_java_installed is defined and oracle_java_installed and oracle_java_version_installed is defined and oracle_java_version_installed != oracle_java_version_string)", "register": "oracle_java_task_set_default"}, "module_options": "name=\"{{ java.exe }}\" link=\"/usr/bin/{{ java.exe }}\" path=\"{{ java.path }}/{{ java.exe }}\"", "executable": "alternatives", "executable_type": "Module", "fqcn": "", "annotations": {}}], "role": "ansiblebit.oracle-java", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "macosx.yml", "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/darwin/macosx.yml", "tasks": [{"py/object": "struct4.Task", "name": "download DMG file", "module": "get_url", "index": 0, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/darwin/macosx.yml", "options": {"name": "download DMG file", "register": "oracle_java_task_dmg_download", "until": "oracle_java_task_dmg_download is succeeded", "tags": ["installation"]}, "module_options": {"headers": {"Cookie": "gpw_e24=http%3A%2F%2Fwww.oracle.com%2F", "oraclelicense": "accept-securebackup-cookie"}, "dest": "{{ oracle_java_dir_source }}/{{ oracle_java_dmg_filename }}", "url": "{{ oracle_java_dmg_url }}", "validate_certs": "{{ oracle_java_dmg_validate_certs }}", "timeout": "{{ oracle_java_download_timeout }}", "force": false}, "executable": "get_url", "executable_type": "Module", "fqcn": "ansible.builtin.get_url", "annotations": {}}, {"py/object": "struct4.Task", "name": "in case there were changes, check host environment again", "module": "include", "index": 1, "defined_in": "./role-test/testdata/ansiblebit-oracle-java/ansiblebit.oracle-java/tasks/darwin/macosx.yml", "options": {"name": "in case there were changes, check host environment again"}, "module_options": "../check_environment.yml", "executable": "include", "executable_type": "Module", "fqcn": "ansible.builtin.include", "annotations": {}}], "role": "ansiblebit.oracle-java", "used_in": [], "annotations": {}}], "modules": [], "source": "", "annotations": {}, "used_in": []}}, "annotations": {}}