{"py/object": "struct4.Repository", "name": "", "path": "", "my_collection_name": "", "playbooks": [], "roles": [], "installed_collections_path": "", "installed_collections": [], "installed_roles_path": "./role-test/testdata/ome-fluentd", "installed_roles": [{"py/object": "struct4.Role", "name": "ome.fluentd", "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd", "fqcn": "ome.fluentd", "collection": "", "taskfiles": [{"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "fluentd | yum repo", "module": "copy", "index": 0, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | yum repo", "become": true}, "module_options": {"src": "yum-reposd-fluentd.repo", "dest": "/etc/yum.repos.d/fluentd.repo", "mode": 420}, "executable": "copy", "executable_type": "Module", "fqcn": "ansible.builtin.copy", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | install", "module": "yum", "index": 1, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | install", "become": true, "notify": ["restart fluentd"]}, "module_options": {"name": "{{ fluentd_name }}", "state": "present", "lock_timeout": "{{ fluentd_yum_lock_timeout }}"}, "executable": "yum", "executable_type": "Module", "fqcn": "ansible.builtin.yum", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | add user to groups", "module": "user", "index": 2, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | add user to groups", "become": true, "with_items": "{{ fluentd_groups }}", "notify": ["restart fluentd"]}, "module_options": {"name": "td-agent", "append": true, "groups": "{{ item }}"}, "executable": "user", "executable_type": "Module", "fqcn": "ansible.builtin.user", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | configuration directory", "module": "file", "index": 3, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | configuration directory", "become": true}, "module_options": {"path": "/etc/{{ fluentd_name }}/conf.d", "state": "directory", "mode": 493}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | main configuration", "module": "copy", "index": 4, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | main configuration", "become": true, "notify": ["restart fluentd"]}, "module_options": {"src": "fluentd.conf", "dest": "/etc/{{ fluentd_name }}/{{ fluentd_name }}.conf", "mode": 420}, "executable": "copy", "executable_type": "Module", "fqcn": "ansible.builtin.copy", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | list plugins", "module": "command", "index": 5, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | list plugins", "register": "_fluent_plugins", "changed_when": false, "check_mode": false}, "module_options": "/usr/sbin/td-agent-gem list", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | install fluentd plugins", "module": "command", "index": 6, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | install fluentd plugins", "become": true, "with_items": "{{ fluentd_plugins }}", "when": "item not in _fluent_plugins.stdout", "notify": ["restart fluentd"]}, "module_options": "/usr/sbin/td-agent-gem install {{ item }}", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | systemd configuration", "module": "file", "index": 7, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | systemd configuration", "become": true}, "module_options": {"path": "/etc/systemd/system/{{ fluentd_name }}.service.d", "state": "directory", "mode": 493}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | systemd configuration environment file", "module": "copy", "index": 8, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | systemd configuration environment file", "become": true, "notify": ["restart fluentd"]}, "module_options": {"src": "systemd-fluentd-service-d-env.conf", "dest": "/etc/systemd/system/{{ fluentd_name }}.service.d/50-env.conf", "mode": 420}, "executable": "copy", "executable_type": "Module", "fqcn": "ansible.builtin.copy", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | environment variables", "module": "template", "index": 9, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | environment variables", "become": true, "notify": ["restart fluentd"]}, "module_options": {"src": "sysconfig-fluentd.j2", "dest": "/etc/sysconfig/fluentd", "owner": "root", "group": "root", "mode": 384}, "executable": "template", "executable_type": "Module", "fqcn": "ansible.builtin.template", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | start service", "module": "service", "index": 10, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | start service", "become": true}, "module_options": {"enabled": true, "name": "{{ fluentd_name }}", "state": "started"}, "executable": "service", "executable_type": "Module", "fqcn": "ansible.builtin.service", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | workaround service enable bug", "module": "file", "index": 11, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | workaround service enable bug", "become": true}, "module_options": {"dest": "/etc/systemd/system/multi-user.target.wants/td-agent.service", "src": "/usr/lib/systemd/system/td-agent.service", "state": "link"}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}], "role": "ome.fluentd", "used_in": [], "annotations": {}}], "modules": [], "source": "", "annotations": {}, "used_in": []}], "modules": [], "taskfiles": [], "version": "", "module_dict": {}, "task_dict": {"{\"path\": \"./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "fluentd | yum repo", "module": "copy", "index": 0, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | yum repo", "become": true}, "module_options": {"src": "yum-reposd-fluentd.repo", "dest": "/etc/yum.repos.d/fluentd.repo", "mode": 420}, "executable": "copy", "executable_type": "Module", "fqcn": "ansible.builtin.copy", "annotations": {}}, "{\"path\": \"./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml\", \"index\": 1}": {"py/object": "struct4.Task", "name": "fluentd | install", "module": "yum", "index": 1, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | install", "become": true, "notify": ["restart fluentd"]}, "module_options": {"name": "{{ fluentd_name }}", "state": "present", "lock_timeout": "{{ fluentd_yum_lock_timeout }}"}, "executable": "yum", "executable_type": "Module", "fqcn": "ansible.builtin.yum", "annotations": {}}, "{\"path\": \"./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml\", \"index\": 2}": {"py/object": "struct4.Task", "name": "fluentd | add user to groups", "module": "user", "index": 2, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | add user to groups", "become": true, "with_items": "{{ fluentd_groups }}", "notify": ["restart fluentd"]}, "module_options": {"name": "td-agent", "append": true, "groups": "{{ item }}"}, "executable": "user", "executable_type": "Module", "fqcn": "ansible.builtin.user", "annotations": {}}, "{\"path\": \"./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml\", \"index\": 3}": {"py/object": "struct4.Task", "name": "fluentd | configuration directory", "module": "file", "index": 3, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | configuration directory", "become": true}, "module_options": {"path": "/etc/{{ fluentd_name }}/conf.d", "state": "directory", "mode": 493}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}, "{\"path\": \"./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml\", \"index\": 4}": {"py/object": "struct4.Task", "name": "fluentd | main configuration", "module": "copy", "index": 4, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | main configuration", "become": true, "notify": ["restart fluentd"]}, "module_options": {"src": "fluentd.conf", "dest": "/etc/{{ fluentd_name }}/{{ fluentd_name }}.conf", "mode": 420}, "executable": "copy", "executable_type": "Module", "fqcn": "ansible.builtin.copy", "annotations": {}}, "{\"path\": \"./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml\", \"index\": 5}": {"py/object": "struct4.Task", "name": "fluentd | list plugins", "module": "command", "index": 5, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | list plugins", "register": "_fluent_plugins", "changed_when": false, "check_mode": false}, "module_options": "/usr/sbin/td-agent-gem list", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}, "{\"path\": \"./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml\", \"index\": 6}": {"py/object": "struct4.Task", "name": "fluentd | install fluentd plugins", "module": "command", "index": 6, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | install fluentd plugins", "become": true, "with_items": "{{ fluentd_plugins }}", "when": "item not in _fluent_plugins.stdout", "notify": ["restart fluentd"]}, "module_options": "/usr/sbin/td-agent-gem install {{ item }}", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}, "{\"path\": \"./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml\", \"index\": 7}": {"py/object": "struct4.Task", "name": "fluentd | systemd configuration", "module": "file", "index": 7, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | systemd configuration", "become": true}, "module_options": {"path": "/etc/systemd/system/{{ fluentd_name }}.service.d", "state": "directory", "mode": 493}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}, "{\"path\": \"./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml\", \"index\": 8}": {"py/object": "struct4.Task", "name": "fluentd | systemd configuration environment file", "module": "copy", "index": 8, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | systemd configuration environment file", "become": true, "notify": ["restart fluentd"]}, "module_options": {"src": "systemd-fluentd-service-d-env.conf", "dest": "/etc/systemd/system/{{ fluentd_name }}.service.d/50-env.conf", "mode": 420}, "executable": "copy", "executable_type": "Module", "fqcn": "ansible.builtin.copy", "annotations": {}}, "{\"path\": \"./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml\", \"index\": 9}": {"py/object": "struct4.Task", "name": "fluentd | environment variables", "module": "template", "index": 9, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | environment variables", "become": true, "notify": ["restart fluentd"]}, "module_options": {"src": "sysconfig-fluentd.j2", "dest": "/etc/sysconfig/fluentd", "owner": "root", "group": "root", "mode": 384}, "executable": "template", "executable_type": "Module", "fqcn": "ansible.builtin.template", "annotations": {}}, "{\"path\": \"./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml\", \"index\": 10}": {"py/object": "struct4.Task", "name": "fluentd | start service", "module": "service", "index": 10, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | start service", "become": true}, "module_options": {"enabled": true, "name": "{{ fluentd_name }}", "state": "started"}, "executable": "service", "executable_type": "Module", "fqcn": "ansible.builtin.service", "annotations": {}}, "{\"path\": \"./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml\", \"index\": 11}": {"py/object": "struct4.Task", "name": "fluentd | workaround service enable bug", "module": "file", "index": 11, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | workaround service enable bug", "become": true}, "module_options": {"dest": "/etc/systemd/system/multi-user.target.wants/td-agent.service", "src": "/usr/lib/systemd/system/td-agent.service", "state": "link"}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}}, "taskfile_dict": {"./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml": {"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "fluentd | yum repo", "module": "copy", "index": 0, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | yum repo", "become": true}, "module_options": {"src": "yum-reposd-fluentd.repo", "dest": "/etc/yum.repos.d/fluentd.repo", "mode": 420}, "executable": "copy", "executable_type": "Module", "fqcn": "ansible.builtin.copy", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | install", "module": "yum", "index": 1, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | install", "become": true, "notify": ["restart fluentd"]}, "module_options": {"name": "{{ fluentd_name }}", "state": "present", "lock_timeout": "{{ fluentd_yum_lock_timeout }}"}, "executable": "yum", "executable_type": "Module", "fqcn": "ansible.builtin.yum", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | add user to groups", "module": "user", "index": 2, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | add user to groups", "become": true, "with_items": "{{ fluentd_groups }}", "notify": ["restart fluentd"]}, "module_options": {"name": "td-agent", "append": true, "groups": "{{ item }}"}, "executable": "user", "executable_type": "Module", "fqcn": "ansible.builtin.user", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | configuration directory", "module": "file", "index": 3, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | configuration directory", "become": true}, "module_options": {"path": "/etc/{{ fluentd_name }}/conf.d", "state": "directory", "mode": 493}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | main configuration", "module": "copy", "index": 4, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | main configuration", "become": true, "notify": ["restart fluentd"]}, "module_options": {"src": "fluentd.conf", "dest": "/etc/{{ fluentd_name }}/{{ fluentd_name }}.conf", "mode": 420}, "executable": "copy", "executable_type": "Module", "fqcn": "ansible.builtin.copy", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | list plugins", "module": "command", "index": 5, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | list plugins", "register": "_fluent_plugins", "changed_when": false, "check_mode": false}, "module_options": "/usr/sbin/td-agent-gem list", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | install fluentd plugins", "module": "command", "index": 6, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | install fluentd plugins", "become": true, "with_items": "{{ fluentd_plugins }}", "when": "item not in _fluent_plugins.stdout", "notify": ["restart fluentd"]}, "module_options": "/usr/sbin/td-agent-gem install {{ item }}", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | systemd configuration", "module": "file", "index": 7, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | systemd configuration", "become": true}, "module_options": {"path": "/etc/systemd/system/{{ fluentd_name }}.service.d", "state": "directory", "mode": 493}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | systemd configuration environment file", "module": "copy", "index": 8, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | systemd configuration environment file", "become": true, "notify": ["restart fluentd"]}, "module_options": {"src": "systemd-fluentd-service-d-env.conf", "dest": "/etc/systemd/system/{{ fluentd_name }}.service.d/50-env.conf", "mode": 420}, "executable": "copy", "executable_type": "Module", "fqcn": "ansible.builtin.copy", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | environment variables", "module": "template", "index": 9, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | environment variables", "become": true, "notify": ["restart fluentd"]}, "module_options": {"src": "sysconfig-fluentd.j2", "dest": "/etc/sysconfig/fluentd", "owner": "root", "group": "root", "mode": 384}, "executable": "template", "executable_type": "Module", "fqcn": "ansible.builtin.template", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | start service", "module": "service", "index": 10, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | start service", "become": true}, "module_options": {"enabled": true, "name": "{{ fluentd_name }}", "state": "started"}, "executable": "service", "executable_type": "Module", "fqcn": "ansible.builtin.service", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | workaround service enable bug", "module": "file", "index": 11, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | workaround service enable bug", "become": true}, "module_options": {"dest": "/etc/systemd/system/multi-user.target.wants/td-agent.service", "src": "/usr/lib/systemd/system/td-agent.service", "state": "link"}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}], "role": "ome.fluentd", "used_in": [], "annotations": {}}}, "role_dict": {"ome.fluentd": {"py/object": "struct4.Role", "name": "ome.fluentd", "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd", "fqcn": "ome.fluentd", "collection": "", "taskfiles": [{"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "fluentd | yum repo", "module": "copy", "index": 0, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | yum repo", "become": true}, "module_options": {"src": "yum-reposd-fluentd.repo", "dest": "/etc/yum.repos.d/fluentd.repo", "mode": 420}, "executable": "copy", "executable_type": "Module", "fqcn": "ansible.builtin.copy", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | install", "module": "yum", "index": 1, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | install", "become": true, "notify": ["restart fluentd"]}, "module_options": {"name": "{{ fluentd_name }}", "state": "present", "lock_timeout": "{{ fluentd_yum_lock_timeout }}"}, "executable": "yum", "executable_type": "Module", "fqcn": "ansible.builtin.yum", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | add user to groups", "module": "user", "index": 2, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | add user to groups", "become": true, "with_items": "{{ fluentd_groups }}", "notify": ["restart fluentd"]}, "module_options": {"name": "td-agent", "append": true, "groups": "{{ item }}"}, "executable": "user", "executable_type": "Module", "fqcn": "ansible.builtin.user", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | configuration directory", "module": "file", "index": 3, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | configuration directory", "become": true}, "module_options": {"path": "/etc/{{ fluentd_name }}/conf.d", "state": "directory", "mode": 493}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | main configuration", "module": "copy", "index": 4, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | main configuration", "become": true, "notify": ["restart fluentd"]}, "module_options": {"src": "fluentd.conf", "dest": "/etc/{{ fluentd_name }}/{{ fluentd_name }}.conf", "mode": 420}, "executable": "copy", "executable_type": "Module", "fqcn": "ansible.builtin.copy", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | list plugins", "module": "command", "index": 5, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | list plugins", "register": "_fluent_plugins", "changed_when": false, "check_mode": false}, "module_options": "/usr/sbin/td-agent-gem list", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | install fluentd plugins", "module": "command", "index": 6, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | install fluentd plugins", "become": true, "with_items": "{{ fluentd_plugins }}", "when": "item not in _fluent_plugins.stdout", "notify": ["restart fluentd"]}, "module_options": "/usr/sbin/td-agent-gem install {{ item }}", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | systemd configuration", "module": "file", "index": 7, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | systemd configuration", "become": true}, "module_options": {"path": "/etc/systemd/system/{{ fluentd_name }}.service.d", "state": "directory", "mode": 493}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | systemd configuration environment file", "module": "copy", "index": 8, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | systemd configuration environment file", "become": true, "notify": ["restart fluentd"]}, "module_options": {"src": "systemd-fluentd-service-d-env.conf", "dest": "/etc/systemd/system/{{ fluentd_name }}.service.d/50-env.conf", "mode": 420}, "executable": "copy", "executable_type": "Module", "fqcn": "ansible.builtin.copy", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | environment variables", "module": "template", "index": 9, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | environment variables", "become": true, "notify": ["restart fluentd"]}, "module_options": {"src": "sysconfig-fluentd.j2", "dest": "/etc/sysconfig/fluentd", "owner": "root", "group": "root", "mode": 384}, "executable": "template", "executable_type": "Module", "fqcn": "ansible.builtin.template", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | start service", "module": "service", "index": 10, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | start service", "become": true}, "module_options": {"enabled": true, "name": "{{ fluentd_name }}", "state": "started"}, "executable": "service", "executable_type": "Module", "fqcn": "ansible.builtin.service", "annotations": {}}, {"py/object": "struct4.Task", "name": "fluentd | workaround service enable bug", "module": "file", "index": 11, "defined_in": "./role-test/testdata/ome-fluentd/ome.fluentd/tasks/main.yml", "options": {"name": "fluentd | workaround service enable bug", "become": true}, "module_options": {"dest": "/etc/systemd/system/multi-user.target.wants/td-agent.service", "src": "/usr/lib/systemd/system/td-agent.service", "state": "link"}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}], "role": "ome.fluentd", "used_in": [], "annotations": {}}], "modules": [], "source": "", "annotations": {}, "used_in": []}}, "annotations": {}}