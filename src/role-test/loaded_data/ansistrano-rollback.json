{"py/object": "struct4.Repository", "name": "", "path": "", "my_collection_name": "", "playbooks": [], "roles": [], "installed_collections_path": "", "installed_collections": [], "installed_roles_path": "./role-test/testdata/ansistrano-rollback", "installed_roles": [{"py/object": "struct4.Role", "name": "ansistrano.rollback", "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback", "fqcn": "ansistrano.rollback", "collection": "", "taskfiles": [{"py/object": "struct4.TaskFile", "name": "setup.yml", "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "tasks": [{"py/object": "struct4.Task", "name": "ANSISTRANO | Get releases path", "module": "command", "index": 0, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get releases path", "check_mode": false, "register": "ansistrano_releases_path"}, "module_options": "echo \"{{ ansistrano_deploy_to }}/{{ ansistrano_version_dir }}\"", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}, {"py/object": "struct4.Task", "name": "ANSISTRANO | Get number of releases", "module": "shell", "index": 1, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get number of releases", "register": "ansistrano_versions_count"}, "module_options": "echo `ls -1t {{ ansistrano_releases_path.stdout }} | wc -l`", "executable": "shell", "executable_type": "Module", "fqcn": "ansible.builtin.shell", "annotations": {}}, {"py/object": "struct4.Task", "name": "ANSISTRANO | Check if there is more than one release", "module": "fail", "index": 2, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Check if there is more than one release", "when": "ansistrano_versions_count.stdout|int <= 1"}, "module_options": {"msg": "Could not roll back the code because there is no prior release"}, "executable": "fail", "executable_type": "Module", "fqcn": "ansible.builtin.fail", "annotations": {}}, {"py/object": "struct4.Task", "name": "ANSISTRANO | Get current release version", "module": "shell", "index": 3, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get current release version", "register": "ansistrano_current_release_version"}, "module_options": "echo `ls -1t {{ ansistrano_releases_path.stdout }} | head -n 1`", "executable": "shell", "executable_type": "Module", "fqcn": "ansible.builtin.shell", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "stat", "index": 4, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"register": "stat_rollback_release_version", "when": "ansistrano_rollback_to_release != \"\""}, "module_options": {"path": "{{ ansistrano_releases_path.stdout }}/{{ ansistrano_rollback_to_release }}"}, "executable": "stat", "executable_type": "Module", "fqcn": "ansible.builtin.stat", "annotations": {}}, {"py/object": "struct4.Task", "name": "ANSISTRANO | Check that the provided rollback release exists", "module": "fail", "index": 5, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Check that the provided rollback release exists", "when": "ansistrano_rollback_to_release != \"\" and (stat_rollback_release_version.stat.exists is not defined or stat_rollback_release_version.stat.isdir == False)"}, "module_options": {"msg": "Specified rollback version does not exist"}, "executable": "fail", "executable_type": "Module", "fqcn": "ansible.builtin.fail", "annotations": {}}, {"py/object": "struct4.Task", "name": "ANSISTRANO | Get previous releases version", "module": "shell", "index": 6, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get previous releases version", "register": "ansistrano_previous_release_version"}, "module_options": "echo `ls -1t {{ ansistrano_releases_path.stdout }} | head -n 2 | tail -n 1`", "executable": "shell", "executable_type": "Module", "fqcn": "ansible.builtin.shell", "annotations": {}}, {"py/object": "struct4.Task", "name": "ANSISTRANO | Get rollback release version", "module": "set_fact", "index": 7, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get rollback release version"}, "module_options": {"ansistrano_rollback_release_version": "{{ ansistrano_rollback_to_release if ansistrano_rollback_to_release != '' else ansistrano_previous_release_version.stdout }}"}, "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, {"py/object": "struct4.Task", "name": "ANSISTRANO | Get release path", "module": "command", "index": 8, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get release path", "check_mode": false, "register": "ansistrano_release_path"}, "module_options": "echo \"{{ ansistrano_releases_path.stdout }}/{{ ansistrano_rollback_release_version }}\"", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}], "role": "ansistrano.rollback", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "anon-stats.yml", "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/anon-stats.yml", "tasks": [{"py/object": "struct4.Task", "name": "ANSISTRANO | Send anonymous stats", "module": "uri", "index": 0, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/anon-stats.yml", "options": {"name": "ANSISTRANO | Send anonymous stats", "when": "ansistrano_allow_anonymous_stats", "run_once": true, "ignore_errors": true, "delegate_to": "127.0.0.1", "become": false}, "module_options": {"url": "https://ansistrano.com/rollback", "follow_redirects": "all", "method": "POST", "timeout": 5}, "executable": "uri", "executable_type": "Module", "fqcn": "ansible.builtin.uri", "annotations": {}}], "role": "ansistrano.rollback", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "empty.yml", "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/empty.yml", "tasks": [], "role": "ansistrano.rollback", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "cleanup.yml", "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/cleanup.yml", "tasks": [{"py/object": "struct4.Task", "name": "ANSISTRANO | Remove rolled back version", "module": "file", "index": 0, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/cleanup.yml", "options": {"name": "ANSISTRANO | Remove rolled back version", "when": "ansistrano_remove_rolled_back"}, "module_options": {"state": "absent", "path": "{{ ansistrano_releases_path.stdout }}/{{ ansistrano_current_release_version.stdout }}"}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}], "role": "ansistrano.rollback", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "symlink.yml", "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/symlink.yml", "tasks": [{"py/object": "struct4.Task", "name": "ANSISTRANO | Change symlink from current release to a previous one", "module": "file", "index": 0, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/symlink.yml", "options": {"name": "ANSISTRANO | Change symlink from current release to a previous one"}, "module_options": {"state": "link", "path": "{{ ansistrano_deploy_to }}/{{ ansistrano_current_dir }}", "src": "./{{ ansistrano_version_dir }}/{{ ansistrano_rollback_release_version }}"}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}], "role": "ansistrano.rollback", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 0, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_before_setup_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_before_setup_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 1, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "setup.yml", "executable": "setup.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 2, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_after_setup_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_after_setup_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 3, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_before_symlink_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_before_symlink_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 4, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "symlink.yml", "executable": "symlink.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 5, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_after_symlink_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_after_symlink_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 6, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_before_cleanup_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_before_cleanup_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 7, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "cleanup.yml", "executable": "cleanup.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 8, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_after_cleanup_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_after_cleanup_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 9, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "anon-stats.yml", "executable": "anon-stats.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}], "role": "ansistrano.rollback", "used_in": [], "annotations": {}}], "modules": [], "source": "", "annotations": {}, "used_in": []}], "modules": [], "taskfiles": [], "version": "", "module_dict": {}, "task_dict": {"{\"path\": \"./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "ANSISTRANO | Get releases path", "module": "command", "index": 0, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get releases path", "check_mode": false, "register": "ansistrano_releases_path"}, "module_options": "echo \"{{ ansistrano_deploy_to }}/{{ ansistrano_version_dir }}\"", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml\", \"index\": 1}": {"py/object": "struct4.Task", "name": "ANSISTRANO | Get number of releases", "module": "shell", "index": 1, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get number of releases", "register": "ansistrano_versions_count"}, "module_options": "echo `ls -1t {{ ansistrano_releases_path.stdout }} | wc -l`", "executable": "shell", "executable_type": "Module", "fqcn": "ansible.builtin.shell", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml\", \"index\": 2}": {"py/object": "struct4.Task", "name": "ANSISTRANO | Check if there is more than one release", "module": "fail", "index": 2, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Check if there is more than one release", "when": "ansistrano_versions_count.stdout|int <= 1"}, "module_options": {"msg": "Could not roll back the code because there is no prior release"}, "executable": "fail", "executable_type": "Module", "fqcn": "ansible.builtin.fail", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml\", \"index\": 3}": {"py/object": "struct4.Task", "name": "ANSISTRANO | Get current release version", "module": "shell", "index": 3, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get current release version", "register": "ansistrano_current_release_version"}, "module_options": "echo `ls -1t {{ ansistrano_releases_path.stdout }} | head -n 1`", "executable": "shell", "executable_type": "Module", "fqcn": "ansible.builtin.shell", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml\", \"index\": 4}": {"py/object": "struct4.Task", "name": "", "module": "stat", "index": 4, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"register": "stat_rollback_release_version", "when": "ansistrano_rollback_to_release != \"\""}, "module_options": {"path": "{{ ansistrano_releases_path.stdout }}/{{ ansistrano_rollback_to_release }}"}, "executable": "stat", "executable_type": "Module", "fqcn": "ansible.builtin.stat", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml\", \"index\": 5}": {"py/object": "struct4.Task", "name": "ANSISTRANO | Check that the provided rollback release exists", "module": "fail", "index": 5, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Check that the provided rollback release exists", "when": "ansistrano_rollback_to_release != \"\" and (stat_rollback_release_version.stat.exists is not defined or stat_rollback_release_version.stat.isdir == False)"}, "module_options": {"msg": "Specified rollback version does not exist"}, "executable": "fail", "executable_type": "Module", "fqcn": "ansible.builtin.fail", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml\", \"index\": 6}": {"py/object": "struct4.Task", "name": "ANSISTRANO | Get previous releases version", "module": "shell", "index": 6, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get previous releases version", "register": "ansistrano_previous_release_version"}, "module_options": "echo `ls -1t {{ ansistrano_releases_path.stdout }} | head -n 2 | tail -n 1`", "executable": "shell", "executable_type": "Module", "fqcn": "ansible.builtin.shell", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml\", \"index\": 7}": {"py/object": "struct4.Task", "name": "ANSISTRANO | Get rollback release version", "module": "set_fact", "index": 7, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get rollback release version"}, "module_options": {"ansistrano_rollback_release_version": "{{ ansistrano_rollback_to_release if ansistrano_rollback_to_release != '' else ansistrano_previous_release_version.stdout }}"}, "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml\", \"index\": 8}": {"py/object": "struct4.Task", "name": "ANSISTRANO | Get release path", "module": "command", "index": 8, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get release path", "check_mode": false, "register": "ansistrano_release_path"}, "module_options": "echo \"{{ ansistrano_releases_path.stdout }}/{{ ansistrano_rollback_release_version }}\"", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/anon-stats.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "ANSISTRANO | Send anonymous stats", "module": "uri", "index": 0, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/anon-stats.yml", "options": {"name": "ANSISTRANO | Send anonymous stats", "when": "ansistrano_allow_anonymous_stats", "run_once": true, "ignore_errors": true, "delegate_to": "127.0.0.1", "become": false}, "module_options": {"url": "https://ansistrano.com/rollback", "follow_redirects": "all", "method": "POST", "timeout": 5}, "executable": "uri", "executable_type": "Module", "fqcn": "ansible.builtin.uri", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/cleanup.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "ANSISTRANO | Remove rolled back version", "module": "file", "index": 0, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/cleanup.yml", "options": {"name": "ANSISTRANO | Remove rolled back version", "when": "ansistrano_remove_rolled_back"}, "module_options": {"state": "absent", "path": "{{ ansistrano_releases_path.stdout }}/{{ ansistrano_current_release_version.stdout }}"}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/symlink.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "ANSISTRANO | Change symlink from current release to a previous one", "module": "file", "index": 0, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/symlink.yml", "options": {"name": "ANSISTRANO | Change symlink from current release to a previous one"}, "module_options": {"state": "link", "path": "{{ ansistrano_deploy_to }}/{{ ansistrano_current_dir }}", "src": "./{{ ansistrano_version_dir }}/{{ ansistrano_rollback_release_version }}"}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 0, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_before_setup_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_before_setup_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml\", \"index\": 1}": {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 1, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "setup.yml", "executable": "setup.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml\", \"index\": 2}": {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 2, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_after_setup_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_after_setup_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml\", \"index\": 3}": {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 3, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_before_symlink_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_before_symlink_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml\", \"index\": 4}": {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 4, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "symlink.yml", "executable": "symlink.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml\", \"index\": 5}": {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 5, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_after_symlink_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_after_symlink_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml\", \"index\": 6}": {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 6, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_before_cleanup_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_before_cleanup_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml\", \"index\": 7}": {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 7, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "cleanup.yml", "executable": "cleanup.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml\", \"index\": 8}": {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 8, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_after_cleanup_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_after_cleanup_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, "{\"path\": \"./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml\", \"index\": 9}": {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 9, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "anon-stats.yml", "executable": "anon-stats.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}}, "taskfile_dict": {"./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml": {"py/object": "struct4.TaskFile", "name": "setup.yml", "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "tasks": [{"py/object": "struct4.Task", "name": "ANSISTRANO | Get releases path", "module": "command", "index": 0, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get releases path", "check_mode": false, "register": "ansistrano_releases_path"}, "module_options": "echo \"{{ ansistrano_deploy_to }}/{{ ansistrano_version_dir }}\"", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}, {"py/object": "struct4.Task", "name": "ANSISTRANO | Get number of releases", "module": "shell", "index": 1, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get number of releases", "register": "ansistrano_versions_count"}, "module_options": "echo `ls -1t {{ ansistrano_releases_path.stdout }} | wc -l`", "executable": "shell", "executable_type": "Module", "fqcn": "ansible.builtin.shell", "annotations": {}}, {"py/object": "struct4.Task", "name": "ANSISTRANO | Check if there is more than one release", "module": "fail", "index": 2, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Check if there is more than one release", "when": "ansistrano_versions_count.stdout|int <= 1"}, "module_options": {"msg": "Could not roll back the code because there is no prior release"}, "executable": "fail", "executable_type": "Module", "fqcn": "ansible.builtin.fail", "annotations": {}}, {"py/object": "struct4.Task", "name": "ANSISTRANO | Get current release version", "module": "shell", "index": 3, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get current release version", "register": "ansistrano_current_release_version"}, "module_options": "echo `ls -1t {{ ansistrano_releases_path.stdout }} | head -n 1`", "executable": "shell", "executable_type": "Module", "fqcn": "ansible.builtin.shell", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "stat", "index": 4, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"register": "stat_rollback_release_version", "when": "ansistrano_rollback_to_release != \"\""}, "module_options": {"path": "{{ ansistrano_releases_path.stdout }}/{{ ansistrano_rollback_to_release }}"}, "executable": "stat", "executable_type": "Module", "fqcn": "ansible.builtin.stat", "annotations": {}}, {"py/object": "struct4.Task", "name": "ANSISTRANO | Check that the provided rollback release exists", "module": "fail", "index": 5, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Check that the provided rollback release exists", "when": "ansistrano_rollback_to_release != \"\" and (stat_rollback_release_version.stat.exists is not defined or stat_rollback_release_version.stat.isdir == False)"}, "module_options": {"msg": "Specified rollback version does not exist"}, "executable": "fail", "executable_type": "Module", "fqcn": "ansible.builtin.fail", "annotations": {}}, {"py/object": "struct4.Task", "name": "ANSISTRANO | Get previous releases version", "module": "shell", "index": 6, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get previous releases version", "register": "ansistrano_previous_release_version"}, "module_options": "echo `ls -1t {{ ansistrano_releases_path.stdout }} | head -n 2 | tail -n 1`", "executable": "shell", "executable_type": "Module", "fqcn": "ansible.builtin.shell", "annotations": {}}, {"py/object": "struct4.Task", "name": "ANSISTRANO | Get rollback release version", "module": "set_fact", "index": 7, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get rollback release version"}, "module_options": {"ansistrano_rollback_release_version": "{{ ansistrano_rollback_to_release if ansistrano_rollback_to_release != '' else ansistrano_previous_release_version.stdout }}"}, "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, {"py/object": "struct4.Task", "name": "ANSISTRANO | Get release path", "module": "command", "index": 8, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get release path", "check_mode": false, "register": "ansistrano_release_path"}, "module_options": "echo \"{{ ansistrano_releases_path.stdout }}/{{ ansistrano_rollback_release_version }}\"", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}], "role": "ansistrano.rollback", "used_in": [], "annotations": {}}, "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/anon-stats.yml": {"py/object": "struct4.TaskFile", "name": "anon-stats.yml", "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/anon-stats.yml", "tasks": [{"py/object": "struct4.Task", "name": "ANSISTRANO | Send anonymous stats", "module": "uri", "index": 0, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/anon-stats.yml", "options": {"name": "ANSISTRANO | Send anonymous stats", "when": "ansistrano_allow_anonymous_stats", "run_once": true, "ignore_errors": true, "delegate_to": "127.0.0.1", "become": false}, "module_options": {"url": "https://ansistrano.com/rollback", "follow_redirects": "all", "method": "POST", "timeout": 5}, "executable": "uri", "executable_type": "Module", "fqcn": "ansible.builtin.uri", "annotations": {}}], "role": "ansistrano.rollback", "used_in": [], "annotations": {}}, "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/empty.yml": {"py/object": "struct4.TaskFile", "name": "empty.yml", "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/empty.yml", "tasks": [], "role": "ansistrano.rollback", "used_in": [], "annotations": {}}, "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/cleanup.yml": {"py/object": "struct4.TaskFile", "name": "cleanup.yml", "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/cleanup.yml", "tasks": [{"py/object": "struct4.Task", "name": "ANSISTRANO | Remove rolled back version", "module": "file", "index": 0, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/cleanup.yml", "options": {"name": "ANSISTRANO | Remove rolled back version", "when": "ansistrano_remove_rolled_back"}, "module_options": {"state": "absent", "path": "{{ ansistrano_releases_path.stdout }}/{{ ansistrano_current_release_version.stdout }}"}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}], "role": "ansistrano.rollback", "used_in": [], "annotations": {}}, "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/symlink.yml": {"py/object": "struct4.TaskFile", "name": "symlink.yml", "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/symlink.yml", "tasks": [{"py/object": "struct4.Task", "name": "ANSISTRANO | Change symlink from current release to a previous one", "module": "file", "index": 0, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/symlink.yml", "options": {"name": "ANSISTRANO | Change symlink from current release to a previous one"}, "module_options": {"state": "link", "path": "{{ ansistrano_deploy_to }}/{{ ansistrano_current_dir }}", "src": "./{{ ansistrano_version_dir }}/{{ ansistrano_rollback_release_version }}"}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}], "role": "ansistrano.rollback", "used_in": [], "annotations": {}}, "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml": {"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 0, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_before_setup_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_before_setup_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 1, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "setup.yml", "executable": "setup.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 2, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_after_setup_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_after_setup_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 3, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_before_symlink_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_before_symlink_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 4, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "symlink.yml", "executable": "symlink.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 5, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_after_symlink_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_after_symlink_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 6, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_before_cleanup_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_before_cleanup_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 7, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "cleanup.yml", "executable": "cleanup.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 8, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_after_cleanup_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_after_cleanup_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 9, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "anon-stats.yml", "executable": "anon-stats.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}], "role": "ansistrano.rollback", "used_in": [], "annotations": {}}}, "role_dict": {"ansistrano.rollback": {"py/object": "struct4.Role", "name": "ansistrano.rollback", "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback", "fqcn": "ansistrano.rollback", "collection": "", "taskfiles": [{"py/object": "struct4.TaskFile", "name": "setup.yml", "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "tasks": [{"py/object": "struct4.Task", "name": "ANSISTRANO | Get releases path", "module": "command", "index": 0, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get releases path", "check_mode": false, "register": "ansistrano_releases_path"}, "module_options": "echo \"{{ ansistrano_deploy_to }}/{{ ansistrano_version_dir }}\"", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}, {"py/object": "struct4.Task", "name": "ANSISTRANO | Get number of releases", "module": "shell", "index": 1, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get number of releases", "register": "ansistrano_versions_count"}, "module_options": "echo `ls -1t {{ ansistrano_releases_path.stdout }} | wc -l`", "executable": "shell", "executable_type": "Module", "fqcn": "ansible.builtin.shell", "annotations": {}}, {"py/object": "struct4.Task", "name": "ANSISTRANO | Check if there is more than one release", "module": "fail", "index": 2, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Check if there is more than one release", "when": "ansistrano_versions_count.stdout|int <= 1"}, "module_options": {"msg": "Could not roll back the code because there is no prior release"}, "executable": "fail", "executable_type": "Module", "fqcn": "ansible.builtin.fail", "annotations": {}}, {"py/object": "struct4.Task", "name": "ANSISTRANO | Get current release version", "module": "shell", "index": 3, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get current release version", "register": "ansistrano_current_release_version"}, "module_options": "echo `ls -1t {{ ansistrano_releases_path.stdout }} | head -n 1`", "executable": "shell", "executable_type": "Module", "fqcn": "ansible.builtin.shell", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "stat", "index": 4, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"register": "stat_rollback_release_version", "when": "ansistrano_rollback_to_release != \"\""}, "module_options": {"path": "{{ ansistrano_releases_path.stdout }}/{{ ansistrano_rollback_to_release }}"}, "executable": "stat", "executable_type": "Module", "fqcn": "ansible.builtin.stat", "annotations": {}}, {"py/object": "struct4.Task", "name": "ANSISTRANO | Check that the provided rollback release exists", "module": "fail", "index": 5, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Check that the provided rollback release exists", "when": "ansistrano_rollback_to_release != \"\" and (stat_rollback_release_version.stat.exists is not defined or stat_rollback_release_version.stat.isdir == False)"}, "module_options": {"msg": "Specified rollback version does not exist"}, "executable": "fail", "executable_type": "Module", "fqcn": "ansible.builtin.fail", "annotations": {}}, {"py/object": "struct4.Task", "name": "ANSISTRANO | Get previous releases version", "module": "shell", "index": 6, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get previous releases version", "register": "ansistrano_previous_release_version"}, "module_options": "echo `ls -1t {{ ansistrano_releases_path.stdout }} | head -n 2 | tail -n 1`", "executable": "shell", "executable_type": "Module", "fqcn": "ansible.builtin.shell", "annotations": {}}, {"py/object": "struct4.Task", "name": "ANSISTRANO | Get rollback release version", "module": "set_fact", "index": 7, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get rollback release version"}, "module_options": {"ansistrano_rollback_release_version": "{{ ansistrano_rollback_to_release if ansistrano_rollback_to_release != '' else ansistrano_previous_release_version.stdout }}"}, "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, {"py/object": "struct4.Task", "name": "ANSISTRANO | Get release path", "module": "command", "index": 8, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/setup.yml", "options": {"name": "ANSISTRANO | Get release path", "check_mode": false, "register": "ansistrano_release_path"}, "module_options": "echo \"{{ ansistrano_releases_path.stdout }}/{{ ansistrano_rollback_release_version }}\"", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}], "role": "ansistrano.rollback", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "anon-stats.yml", "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/anon-stats.yml", "tasks": [{"py/object": "struct4.Task", "name": "ANSISTRANO | Send anonymous stats", "module": "uri", "index": 0, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/anon-stats.yml", "options": {"name": "ANSISTRANO | Send anonymous stats", "when": "ansistrano_allow_anonymous_stats", "run_once": true, "ignore_errors": true, "delegate_to": "127.0.0.1", "become": false}, "module_options": {"url": "https://ansistrano.com/rollback", "follow_redirects": "all", "method": "POST", "timeout": 5}, "executable": "uri", "executable_type": "Module", "fqcn": "ansible.builtin.uri", "annotations": {}}], "role": "ansistrano.rollback", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "empty.yml", "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/empty.yml", "tasks": [], "role": "ansistrano.rollback", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "cleanup.yml", "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/cleanup.yml", "tasks": [{"py/object": "struct4.Task", "name": "ANSISTRANO | Remove rolled back version", "module": "file", "index": 0, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/cleanup.yml", "options": {"name": "ANSISTRANO | Remove rolled back version", "when": "ansistrano_remove_rolled_back"}, "module_options": {"state": "absent", "path": "{{ ansistrano_releases_path.stdout }}/{{ ansistrano_current_release_version.stdout }}"}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}], "role": "ansistrano.rollback", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "symlink.yml", "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/symlink.yml", "tasks": [{"py/object": "struct4.Task", "name": "ANSISTRANO | Change symlink from current release to a previous one", "module": "file", "index": 0, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/symlink.yml", "options": {"name": "ANSISTRANO | Change symlink from current release to a previous one"}, "module_options": {"state": "link", "path": "{{ ansistrano_deploy_to }}/{{ ansistrano_current_dir }}", "src": "./{{ ansistrano_version_dir }}/{{ ansistrano_rollback_release_version }}"}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}], "role": "ansistrano.rollback", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 0, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_before_setup_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_before_setup_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 1, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "setup.yml", "executable": "setup.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 2, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_after_setup_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_after_setup_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 3, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_before_symlink_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_before_symlink_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 4, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "symlink.yml", "executable": "symlink.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 5, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_after_symlink_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_after_symlink_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 6, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_before_cleanup_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_before_cleanup_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 7, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "cleanup.yml", "executable": "cleanup.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 8, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "{{ ansistrano_rollback_after_cleanup_tasks_file | default('empty.yml') }}", "executable": "{{ ansistrano_rollback_after_cleanup_tasks_file | default('empty.yml') }}", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 9, "defined_in": "./role-test/testdata/ansistrano-rollback/ansistrano.rollback/tasks/main.yml", "options": {}, "module_options": "anon-stats.yml", "executable": "anon-stats.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}], "role": "ansistrano.rollback", "used_in": [], "annotations": {}}], "modules": [], "source": "", "annotations": {}, "used_in": []}}, "annotations": {}}