{"py/object": "struct4.Repository", "name": "", "path": "", "my_collection_name": "", "playbooks": [], "roles": [], "installed_collections_path": "", "installed_collections": [], "installed_roles_path": "./role-test/testdata/geerlingguy-ruby", "installed_roles": [{"py/object": "struct4.Role", "name": "geerlingguy.ruby", "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby", "fqcn": "geerlingguy.ruby", "collection": "", "taskfiles": [{"py/object": "struct4.TaskFile", "name": "install-from-source.yml", "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "tasks": [{"py/object": "struct4.Task", "name": "Define ruby_build_packages.", "module": "set_fact", "index": 0, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Define ruby_build_packages.", "when": "ruby_build_packages is not defined"}, "module_options": {"ruby_build_packages": "{{ __ruby_build_packages }}"}, "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, {"py/object": "struct4.Task", "name": "Install packages required to build ruby.", "module": "yum", "index": 1, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Install packages required to build ruby.", "when": "ansible_os_family == 'RedHat'"}, "module_options": {"name": "{{ ruby_build_packages }}", "state": "present"}, "executable": "yum", "executable_type": "Module", "fqcn": "ansible.builtin.yum", "annotations": {}}, {"py/object": "struct4.Task", "name": "Update apt cache (Debian).", "module": "apt", "index": 2, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Update apt cache (Debian).", "when": "ansible_os_family == 'Debian'"}, "module_options": "update_cache=true cache_valid_time=86400", "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}, {"py/object": "struct4.Task", "name": "Install packages required to build ruby (Debian).", "module": "apt", "index": 3, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Install packages required to build ruby (Debian).", "when": "ansible_os_family == 'Debian'"}, "module_options": {"name": "{{ ruby_build_packages }}", "state": "present"}, "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}, {"py/object": "struct4.Task", "name": "Ensure that /var/cache/ansible/ exists", "module": "file", "index": 4, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Ensure that /var/cache/ansible/ exists"}, "module_options": {"path": "/var/cache/ansible/", "state": "directory"}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}, {"py/object": "struct4.Task", "name": "Check if ruby is up-to-date", "module": "stat", "index": 5, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Check if ruby is up-to-date", "register": "ruby_version_marker"}, "module_options": {"path": "/var/cache/ansible/ruby-{{ ruby_version }}.check"}, "executable": "stat", "executable_type": "Module", "fqcn": "ansible.builtin.stat", "annotations": {}}, {"py/object": "struct4.Task", "name": "Download ruby.", "module": "get_url", "index": 6, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Download ruby."}, "module_options": {"url": "{{ ruby_download_url }}", "dest": "{{ workspace }}/ruby-{{ ruby_version }}.tar.gz"}, "executable": "get_url", "executable_type": "Module", "fqcn": "ansible.builtin.get_url", "annotations": {}}, {"py/object": "struct4.Task", "name": "Extract ruby.", "module": "unarchive", "index": 7, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Extract ruby."}, "module_options": {"src": "{{ workspace }}/ruby-{{ ruby_version }}.tar.gz", "dest": "{{ workspace }}/", "copy": false, "mode": 493}, "executable": "unarchive", "executable_type": "Module", "fqcn": "ansible.builtin.unarchive", "annotations": {}}, {"py/object": "struct4.Task", "name": "Build ruby.", "module": "command", "index": 8, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Build ruby.", "with_items": ["{{ ruby_source_configure_command }}", "make", "make install"]}, "module_options": "{{ item }} chdir={{ workspace }}/ruby-{{ ruby_version }}\n", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}, {"py/object": "struct4.Task", "name": "Touch install-marker", "module": "file", "index": 9, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Touch install-marker"}, "module_options": {"path": "/var/cache/ansible/ruby-{{ ruby_version }}.check", "state": "touch"}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}, {"py/object": "struct4.Task", "name": "Add ruby symlinks.", "module": "file", "index": 10, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Add ruby symlinks.", "with_items": ["erb", "gem", "irb", "rake", "rdoc", "ruby"]}, "module_options": {"src": "/usr/local/bin/{{ item }}", "dest": "/usr/bin/{{ item }}", "state": "link", "force": true}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}], "role": "geerlingguy.ruby", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "setup-Debian.yml", "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml", "tasks": [{"py/object": "struct4.Task", "name": "Update apt cache.", "module": "apt", "index": 0, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml", "options": {"name": "Update apt cache."}, "module_options": "update_cache=yes cache_valid_time=86400", "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}, {"py/object": "struct4.Task", "name": "Set rubygems package name for Ubuntu 14.04.", "module": "set_fact", "index": 1, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml", "options": {"name": "Set rubygems package name for Ubuntu 14.04.", "when": "ansible_distribution == 'Ubuntu' and ansible_distribution_release == 'trusty'"}, "module_options": {"ruby_rubygems_package_name": "rubygems-integration"}, "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, {"py/object": "struct4.Task", "name": "Install ruby and other required dependencies.", "module": "apt", "index": 2, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml", "options": {"name": "Install ruby and other required dependencies."}, "module_options": {"name": "{{ ruby_packages }}", "state": "present"}, "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}, {"py/object": "struct4.Task", "name": "Install rubygems.", "module": "apt", "index": 3, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml", "options": {"name": "Install rubygems."}, "module_options": {"name": "{{ ruby_rubygems_package_name }}", "state": "present"}, "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}], "role": "geerlingguy.ruby", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "Include OS-specific variables.", "module": "include_vars", "index": 0, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"name": "Include OS-specific variables."}, "module_options": "{{ ansible_os_family }}.yml", "executable": "include_vars", "executable_type": "Module", "fqcn": "ansible.builtin.include_vars", "annotations": {}}, {"py/object": "struct4.Task", "name": "Define ruby_packages.", "module": "set_fact", "index": 1, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"name": "Define ruby_packages.", "when": "ruby_packages is not defined"}, "module_options": {"ruby_packages": "{{ __ruby_packages }}"}, "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 2, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"when": ["not ruby_install_from_source", "ansible_os_family == 'RedHat'"]}, "module_options": "setup-RedHat.yml", "executable": "setup-RedHat.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 3, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"when": ["not ruby_install_from_source", "ansible_os_family == 'Debian'"]}, "module_options": "setup-Debian.yml", "executable": "setup-Debian.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 4, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"when": "ruby_install_from_source"}, "module_options": "install-from-source.yml", "executable": "install-from-source.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "Add user installed RubyGems bin directory to global $PATH.", "module": "copy", "index": 5, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"name": "Add user installed RubyGems bin directory to global $PATH."}, "module_options": {"src": "rubygems.sh", "dest": "/etc/profile.d/rubygems.sh", "mode": 420}, "executable": "copy", "executable_type": "Module", "fqcn": "ansible.builtin.copy", "annotations": {}}, {"py/object": "struct4.Task", "name": "Install Bundler.", "module": "gem", "index": 6, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"name": "Install Bundler.", "when": "ruby_install_bundler"}, "module_options": "name=bundler state=present user_install=no", "executable": "gem", "executable_type": "Module", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "Install configured gems.", "module": "gem", "index": 7, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"name": "Install configured gems.", "become": true, "become_user": "{{ ruby_install_gems_user }}", "with_items": "{{ ruby_install_gems }}"}, "module_options": {"name": "{{ item.name | default(item) }}", "version": "{{ item.version | default(omit) }}", "user_install": "{{ item.user_install | default(omit) }}", "state": "present"}, "executable": "gem", "executable_type": "Module", "fqcn": "", "annotations": {}}], "role": "geerlingguy.ruby", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "setup-RedHat.yml", "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-RedHat.yml", "tasks": [{"py/object": "struct4.Task", "name": "Install ruby, rubygems, and development tools.", "module": "yum", "index": 0, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-RedHat.yml", "options": {"name": "Install ruby, rubygems, and development tools."}, "module_options": {"name": "{{ ruby_packages }}", "state": "present"}, "executable": "yum", "executable_type": "Module", "fqcn": "ansible.builtin.yum", "annotations": {}}], "role": "geerlingguy.ruby", "used_in": [], "annotations": {}}], "modules": [], "source": "", "annotations": {}, "used_in": []}], "modules": [], "taskfiles": [], "version": "", "module_dict": {}, "task_dict": {"{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "Define ruby_build_packages.", "module": "set_fact", "index": 0, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Define ruby_build_packages.", "when": "ruby_build_packages is not defined"}, "module_options": {"ruby_build_packages": "{{ __ruby_build_packages }}"}, "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, "{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml\", \"index\": 1}": {"py/object": "struct4.Task", "name": "Install packages required to build ruby.", "module": "yum", "index": 1, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Install packages required to build ruby.", "when": "ansible_os_family == 'RedHat'"}, "module_options": {"name": "{{ ruby_build_packages }}", "state": "present"}, "executable": "yum", "executable_type": "Module", "fqcn": "ansible.builtin.yum", "annotations": {}}, "{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml\", \"index\": 2}": {"py/object": "struct4.Task", "name": "Update apt cache (Debian).", "module": "apt", "index": 2, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Update apt cache (Debian).", "when": "ansible_os_family == 'Debian'"}, "module_options": "update_cache=true cache_valid_time=86400", "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}, "{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml\", \"index\": 3}": {"py/object": "struct4.Task", "name": "Install packages required to build ruby (Debian).", "module": "apt", "index": 3, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Install packages required to build ruby (Debian).", "when": "ansible_os_family == 'Debian'"}, "module_options": {"name": "{{ ruby_build_packages }}", "state": "present"}, "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}, "{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml\", \"index\": 4}": {"py/object": "struct4.Task", "name": "Ensure that /var/cache/ansible/ exists", "module": "file", "index": 4, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Ensure that /var/cache/ansible/ exists"}, "module_options": {"path": "/var/cache/ansible/", "state": "directory"}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}, "{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml\", \"index\": 5}": {"py/object": "struct4.Task", "name": "Check if ruby is up-to-date", "module": "stat", "index": 5, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Check if ruby is up-to-date", "register": "ruby_version_marker"}, "module_options": {"path": "/var/cache/ansible/ruby-{{ ruby_version }}.check"}, "executable": "stat", "executable_type": "Module", "fqcn": "ansible.builtin.stat", "annotations": {}}, "{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml\", \"index\": 6}": {"py/object": "struct4.Task", "name": "Download ruby.", "module": "get_url", "index": 6, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Download ruby."}, "module_options": {"url": "{{ ruby_download_url }}", "dest": "{{ workspace }}/ruby-{{ ruby_version }}.tar.gz"}, "executable": "get_url", "executable_type": "Module", "fqcn": "ansible.builtin.get_url", "annotations": {}}, "{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml\", \"index\": 7}": {"py/object": "struct4.Task", "name": "Extract ruby.", "module": "unarchive", "index": 7, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Extract ruby."}, "module_options": {"src": "{{ workspace }}/ruby-{{ ruby_version }}.tar.gz", "dest": "{{ workspace }}/", "copy": false, "mode": 493}, "executable": "unarchive", "executable_type": "Module", "fqcn": "ansible.builtin.unarchive", "annotations": {}}, "{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml\", \"index\": 8}": {"py/object": "struct4.Task", "name": "Build ruby.", "module": "command", "index": 8, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Build ruby.", "with_items": ["{{ ruby_source_configure_command }}", "make", "make install"]}, "module_options": "{{ item }} chdir={{ workspace }}/ruby-{{ ruby_version }}\n", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}, "{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml\", \"index\": 9}": {"py/object": "struct4.Task", "name": "Touch install-marker", "module": "file", "index": 9, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Touch install-marker"}, "module_options": {"path": "/var/cache/ansible/ruby-{{ ruby_version }}.check", "state": "touch"}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}, "{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml\", \"index\": 10}": {"py/object": "struct4.Task", "name": "Add ruby symlinks.", "module": "file", "index": 10, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Add ruby symlinks.", "with_items": ["erb", "gem", "irb", "rake", "rdoc", "ruby"]}, "module_options": {"src": "/usr/local/bin/{{ item }}", "dest": "/usr/bin/{{ item }}", "state": "link", "force": true}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}, "{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "Update apt cache.", "module": "apt", "index": 0, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml", "options": {"name": "Update apt cache."}, "module_options": "update_cache=yes cache_valid_time=86400", "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}, "{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml\", \"index\": 1}": {"py/object": "struct4.Task", "name": "Set rubygems package name for Ubuntu 14.04.", "module": "set_fact", "index": 1, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml", "options": {"name": "Set rubygems package name for Ubuntu 14.04.", "when": "ansible_distribution == 'Ubuntu' and ansible_distribution_release == 'trusty'"}, "module_options": {"ruby_rubygems_package_name": "rubygems-integration"}, "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, "{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml\", \"index\": 2}": {"py/object": "struct4.Task", "name": "Install ruby and other required dependencies.", "module": "apt", "index": 2, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml", "options": {"name": "Install ruby and other required dependencies."}, "module_options": {"name": "{{ ruby_packages }}", "state": "present"}, "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}, "{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml\", \"index\": 3}": {"py/object": "struct4.Task", "name": "Install rubygems.", "module": "apt", "index": 3, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml", "options": {"name": "Install rubygems."}, "module_options": {"name": "{{ ruby_rubygems_package_name }}", "state": "present"}, "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}, "{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "Include OS-specific variables.", "module": "include_vars", "index": 0, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"name": "Include OS-specific variables."}, "module_options": "{{ ansible_os_family }}.yml", "executable": "include_vars", "executable_type": "Module", "fqcn": "ansible.builtin.include_vars", "annotations": {}}, "{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml\", \"index\": 1}": {"py/object": "struct4.Task", "name": "Define ruby_packages.", "module": "set_fact", "index": 1, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"name": "Define ruby_packages.", "when": "ruby_packages is not defined"}, "module_options": {"ruby_packages": "{{ __ruby_packages }}"}, "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, "{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml\", \"index\": 2}": {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 2, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"when": ["not ruby_install_from_source", "ansible_os_family == 'RedHat'"]}, "module_options": "setup-RedHat.yml", "executable": "setup-RedHat.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, "{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml\", \"index\": 3}": {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 3, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"when": ["not ruby_install_from_source", "ansible_os_family == 'Debian'"]}, "module_options": "setup-Debian.yml", "executable": "setup-Debian.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, "{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml\", \"index\": 4}": {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 4, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"when": "ruby_install_from_source"}, "module_options": "install-from-source.yml", "executable": "install-from-source.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, "{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml\", \"index\": 5}": {"py/object": "struct4.Task", "name": "Add user installed RubyGems bin directory to global $PATH.", "module": "copy", "index": 5, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"name": "Add user installed RubyGems bin directory to global $PATH."}, "module_options": {"src": "rubygems.sh", "dest": "/etc/profile.d/rubygems.sh", "mode": 420}, "executable": "copy", "executable_type": "Module", "fqcn": "ansible.builtin.copy", "annotations": {}}, "{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml\", \"index\": 6}": {"py/object": "struct4.Task", "name": "Install Bundler.", "module": "gem", "index": 6, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"name": "Install Bundler.", "when": "ruby_install_bundler"}, "module_options": "name=bundler state=present user_install=no", "executable": "gem", "executable_type": "Module", "fqcn": "", "annotations": {}}, "{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml\", \"index\": 7}": {"py/object": "struct4.Task", "name": "Install configured gems.", "module": "gem", "index": 7, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"name": "Install configured gems.", "become": true, "become_user": "{{ ruby_install_gems_user }}", "with_items": "{{ ruby_install_gems }}"}, "module_options": {"name": "{{ item.name | default(item) }}", "version": "{{ item.version | default(omit) }}", "user_install": "{{ item.user_install | default(omit) }}", "state": "present"}, "executable": "gem", "executable_type": "Module", "fqcn": "", "annotations": {}}, "{\"path\": \"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-RedHat.yml\", \"index\": 0}": {"py/object": "struct4.Task", "name": "Install ruby, rubygems, and development tools.", "module": "yum", "index": 0, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-RedHat.yml", "options": {"name": "Install ruby, rubygems, and development tools."}, "module_options": {"name": "{{ ruby_packages }}", "state": "present"}, "executable": "yum", "executable_type": "Module", "fqcn": "ansible.builtin.yum", "annotations": {}}}, "taskfile_dict": {"./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml": {"py/object": "struct4.TaskFile", "name": "install-from-source.yml", "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "tasks": [{"py/object": "struct4.Task", "name": "Define ruby_build_packages.", "module": "set_fact", "index": 0, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Define ruby_build_packages.", "when": "ruby_build_packages is not defined"}, "module_options": {"ruby_build_packages": "{{ __ruby_build_packages }}"}, "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, {"py/object": "struct4.Task", "name": "Install packages required to build ruby.", "module": "yum", "index": 1, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Install packages required to build ruby.", "when": "ansible_os_family == 'RedHat'"}, "module_options": {"name": "{{ ruby_build_packages }}", "state": "present"}, "executable": "yum", "executable_type": "Module", "fqcn": "ansible.builtin.yum", "annotations": {}}, {"py/object": "struct4.Task", "name": "Update apt cache (Debian).", "module": "apt", "index": 2, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Update apt cache (Debian).", "when": "ansible_os_family == 'Debian'"}, "module_options": "update_cache=true cache_valid_time=86400", "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}, {"py/object": "struct4.Task", "name": "Install packages required to build ruby (Debian).", "module": "apt", "index": 3, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Install packages required to build ruby (Debian).", "when": "ansible_os_family == 'Debian'"}, "module_options": {"name": "{{ ruby_build_packages }}", "state": "present"}, "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}, {"py/object": "struct4.Task", "name": "Ensure that /var/cache/ansible/ exists", "module": "file", "index": 4, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Ensure that /var/cache/ansible/ exists"}, "module_options": {"path": "/var/cache/ansible/", "state": "directory"}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}, {"py/object": "struct4.Task", "name": "Check if ruby is up-to-date", "module": "stat", "index": 5, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Check if ruby is up-to-date", "register": "ruby_version_marker"}, "module_options": {"path": "/var/cache/ansible/ruby-{{ ruby_version }}.check"}, "executable": "stat", "executable_type": "Module", "fqcn": "ansible.builtin.stat", "annotations": {}}, {"py/object": "struct4.Task", "name": "Download ruby.", "module": "get_url", "index": 6, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Download ruby."}, "module_options": {"url": "{{ ruby_download_url }}", "dest": "{{ workspace }}/ruby-{{ ruby_version }}.tar.gz"}, "executable": "get_url", "executable_type": "Module", "fqcn": "ansible.builtin.get_url", "annotations": {}}, {"py/object": "struct4.Task", "name": "Extract ruby.", "module": "unarchive", "index": 7, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Extract ruby."}, "module_options": {"src": "{{ workspace }}/ruby-{{ ruby_version }}.tar.gz", "dest": "{{ workspace }}/", "copy": false, "mode": 493}, "executable": "unarchive", "executable_type": "Module", "fqcn": "ansible.builtin.unarchive", "annotations": {}}, {"py/object": "struct4.Task", "name": "Build ruby.", "module": "command", "index": 8, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Build ruby.", "with_items": ["{{ ruby_source_configure_command }}", "make", "make install"]}, "module_options": "{{ item }} chdir={{ workspace }}/ruby-{{ ruby_version }}\n", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}, {"py/object": "struct4.Task", "name": "Touch install-marker", "module": "file", "index": 9, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Touch install-marker"}, "module_options": {"path": "/var/cache/ansible/ruby-{{ ruby_version }}.check", "state": "touch"}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}, {"py/object": "struct4.Task", "name": "Add ruby symlinks.", "module": "file", "index": 10, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Add ruby symlinks.", "with_items": ["erb", "gem", "irb", "rake", "rdoc", "ruby"]}, "module_options": {"src": "/usr/local/bin/{{ item }}", "dest": "/usr/bin/{{ item }}", "state": "link", "force": true}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}], "role": "geerlingguy.ruby", "used_in": [], "annotations": {}}, "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml": {"py/object": "struct4.TaskFile", "name": "setup-Debian.yml", "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml", "tasks": [{"py/object": "struct4.Task", "name": "Update apt cache.", "module": "apt", "index": 0, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml", "options": {"name": "Update apt cache."}, "module_options": "update_cache=yes cache_valid_time=86400", "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}, {"py/object": "struct4.Task", "name": "Set rubygems package name for Ubuntu 14.04.", "module": "set_fact", "index": 1, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml", "options": {"name": "Set rubygems package name for Ubuntu 14.04.", "when": "ansible_distribution == 'Ubuntu' and ansible_distribution_release == 'trusty'"}, "module_options": {"ruby_rubygems_package_name": "rubygems-integration"}, "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, {"py/object": "struct4.Task", "name": "Install ruby and other required dependencies.", "module": "apt", "index": 2, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml", "options": {"name": "Install ruby and other required dependencies."}, "module_options": {"name": "{{ ruby_packages }}", "state": "present"}, "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}, {"py/object": "struct4.Task", "name": "Install rubygems.", "module": "apt", "index": 3, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml", "options": {"name": "Install rubygems."}, "module_options": {"name": "{{ ruby_rubygems_package_name }}", "state": "present"}, "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}], "role": "geerlingguy.ruby", "used_in": [], "annotations": {}}, "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml": {"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "Include OS-specific variables.", "module": "include_vars", "index": 0, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"name": "Include OS-specific variables."}, "module_options": "{{ ansible_os_family }}.yml", "executable": "include_vars", "executable_type": "Module", "fqcn": "ansible.builtin.include_vars", "annotations": {}}, {"py/object": "struct4.Task", "name": "Define ruby_packages.", "module": "set_fact", "index": 1, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"name": "Define ruby_packages.", "when": "ruby_packages is not defined"}, "module_options": {"ruby_packages": "{{ __ruby_packages }}"}, "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 2, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"when": ["not ruby_install_from_source", "ansible_os_family == 'RedHat'"]}, "module_options": "setup-RedHat.yml", "executable": "setup-RedHat.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 3, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"when": ["not ruby_install_from_source", "ansible_os_family == 'Debian'"]}, "module_options": "setup-Debian.yml", "executable": "setup-Debian.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 4, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"when": "ruby_install_from_source"}, "module_options": "install-from-source.yml", "executable": "install-from-source.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "Add user installed RubyGems bin directory to global $PATH.", "module": "copy", "index": 5, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"name": "Add user installed RubyGems bin directory to global $PATH."}, "module_options": {"src": "rubygems.sh", "dest": "/etc/profile.d/rubygems.sh", "mode": 420}, "executable": "copy", "executable_type": "Module", "fqcn": "ansible.builtin.copy", "annotations": {}}, {"py/object": "struct4.Task", "name": "Install Bundler.", "module": "gem", "index": 6, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"name": "Install Bundler.", "when": "ruby_install_bundler"}, "module_options": "name=bundler state=present user_install=no", "executable": "gem", "executable_type": "Module", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "Install configured gems.", "module": "gem", "index": 7, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"name": "Install configured gems.", "become": true, "become_user": "{{ ruby_install_gems_user }}", "with_items": "{{ ruby_install_gems }}"}, "module_options": {"name": "{{ item.name | default(item) }}", "version": "{{ item.version | default(omit) }}", "user_install": "{{ item.user_install | default(omit) }}", "state": "present"}, "executable": "gem", "executable_type": "Module", "fqcn": "", "annotations": {}}], "role": "geerlingguy.ruby", "used_in": [], "annotations": {}}, "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-RedHat.yml": {"py/object": "struct4.TaskFile", "name": "setup-RedHat.yml", "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-RedHat.yml", "tasks": [{"py/object": "struct4.Task", "name": "Install ruby, rubygems, and development tools.", "module": "yum", "index": 0, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-RedHat.yml", "options": {"name": "Install ruby, rubygems, and development tools."}, "module_options": {"name": "{{ ruby_packages }}", "state": "present"}, "executable": "yum", "executable_type": "Module", "fqcn": "ansible.builtin.yum", "annotations": {}}], "role": "geerlingguy.ruby", "used_in": [], "annotations": {}}}, "role_dict": {"geerlingguy.ruby": {"py/object": "struct4.Role", "name": "geerlingguy.ruby", "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby", "fqcn": "geerlingguy.ruby", "collection": "", "taskfiles": [{"py/object": "struct4.TaskFile", "name": "install-from-source.yml", "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "tasks": [{"py/object": "struct4.Task", "name": "Define ruby_build_packages.", "module": "set_fact", "index": 0, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Define ruby_build_packages.", "when": "ruby_build_packages is not defined"}, "module_options": {"ruby_build_packages": "{{ __ruby_build_packages }}"}, "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, {"py/object": "struct4.Task", "name": "Install packages required to build ruby.", "module": "yum", "index": 1, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Install packages required to build ruby.", "when": "ansible_os_family == 'RedHat'"}, "module_options": {"name": "{{ ruby_build_packages }}", "state": "present"}, "executable": "yum", "executable_type": "Module", "fqcn": "ansible.builtin.yum", "annotations": {}}, {"py/object": "struct4.Task", "name": "Update apt cache (Debian).", "module": "apt", "index": 2, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Update apt cache (Debian).", "when": "ansible_os_family == 'Debian'"}, "module_options": "update_cache=true cache_valid_time=86400", "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}, {"py/object": "struct4.Task", "name": "Install packages required to build ruby (Debian).", "module": "apt", "index": 3, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Install packages required to build ruby (Debian).", "when": "ansible_os_family == 'Debian'"}, "module_options": {"name": "{{ ruby_build_packages }}", "state": "present"}, "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}, {"py/object": "struct4.Task", "name": "Ensure that /var/cache/ansible/ exists", "module": "file", "index": 4, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Ensure that /var/cache/ansible/ exists"}, "module_options": {"path": "/var/cache/ansible/", "state": "directory"}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}, {"py/object": "struct4.Task", "name": "Check if ruby is up-to-date", "module": "stat", "index": 5, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Check if ruby is up-to-date", "register": "ruby_version_marker"}, "module_options": {"path": "/var/cache/ansible/ruby-{{ ruby_version }}.check"}, "executable": "stat", "executable_type": "Module", "fqcn": "ansible.builtin.stat", "annotations": {}}, {"py/object": "struct4.Task", "name": "Download ruby.", "module": "get_url", "index": 6, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Download ruby."}, "module_options": {"url": "{{ ruby_download_url }}", "dest": "{{ workspace }}/ruby-{{ ruby_version }}.tar.gz"}, "executable": "get_url", "executable_type": "Module", "fqcn": "ansible.builtin.get_url", "annotations": {}}, {"py/object": "struct4.Task", "name": "Extract ruby.", "module": "unarchive", "index": 7, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Extract ruby."}, "module_options": {"src": "{{ workspace }}/ruby-{{ ruby_version }}.tar.gz", "dest": "{{ workspace }}/", "copy": false, "mode": 493}, "executable": "unarchive", "executable_type": "Module", "fqcn": "ansible.builtin.unarchive", "annotations": {}}, {"py/object": "struct4.Task", "name": "Build ruby.", "module": "command", "index": 8, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Build ruby.", "with_items": ["{{ ruby_source_configure_command }}", "make", "make install"]}, "module_options": "{{ item }} chdir={{ workspace }}/ruby-{{ ruby_version }}\n", "executable": "command", "executable_type": "Module", "fqcn": "ansible.builtin.command", "annotations": {}}, {"py/object": "struct4.Task", "name": "Touch install-marker", "module": "file", "index": 9, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Touch install-marker"}, "module_options": {"path": "/var/cache/ansible/ruby-{{ ruby_version }}.check", "state": "touch"}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}, {"py/object": "struct4.Task", "name": "Add ruby symlinks.", "module": "file", "index": 10, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/install-from-source.yml", "options": {"name": "Add ruby symlinks.", "with_items": ["erb", "gem", "irb", "rake", "rdoc", "ruby"]}, "module_options": {"src": "/usr/local/bin/{{ item }}", "dest": "/usr/bin/{{ item }}", "state": "link", "force": true}, "executable": "file", "executable_type": "Module", "fqcn": "ansible.builtin.file", "annotations": {}}], "role": "geerlingguy.ruby", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "setup-Debian.yml", "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml", "tasks": [{"py/object": "struct4.Task", "name": "Update apt cache.", "module": "apt", "index": 0, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml", "options": {"name": "Update apt cache."}, "module_options": "update_cache=yes cache_valid_time=86400", "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}, {"py/object": "struct4.Task", "name": "Set rubygems package name for Ubuntu 14.04.", "module": "set_fact", "index": 1, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml", "options": {"name": "Set rubygems package name for Ubuntu 14.04.", "when": "ansible_distribution == 'Ubuntu' and ansible_distribution_release == 'trusty'"}, "module_options": {"ruby_rubygems_package_name": "rubygems-integration"}, "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, {"py/object": "struct4.Task", "name": "Install ruby and other required dependencies.", "module": "apt", "index": 2, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml", "options": {"name": "Install ruby and other required dependencies."}, "module_options": {"name": "{{ ruby_packages }}", "state": "present"}, "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}, {"py/object": "struct4.Task", "name": "Install rubygems.", "module": "apt", "index": 3, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-Debian.yml", "options": {"name": "Install rubygems."}, "module_options": {"name": "{{ ruby_rubygems_package_name }}", "state": "present"}, "executable": "apt", "executable_type": "Module", "fqcn": "ansible.builtin.apt", "annotations": {}}], "role": "geerlingguy.ruby", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "main.yml", "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "tasks": [{"py/object": "struct4.Task", "name": "Include OS-specific variables.", "module": "include_vars", "index": 0, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"name": "Include OS-specific variables."}, "module_options": "{{ ansible_os_family }}.yml", "executable": "include_vars", "executable_type": "Module", "fqcn": "ansible.builtin.include_vars", "annotations": {}}, {"py/object": "struct4.Task", "name": "Define ruby_packages.", "module": "set_fact", "index": 1, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"name": "Define ruby_packages.", "when": "ruby_packages is not defined"}, "module_options": {"ruby_packages": "{{ __ruby_packages }}"}, "executable": "set_fact", "executable_type": "Module", "fqcn": "ansible.builtin.set_fact", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 2, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"when": ["not ruby_install_from_source", "ansible_os_family == 'RedHat'"]}, "module_options": "setup-RedHat.yml", "executable": "setup-RedHat.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 3, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"when": ["not ruby_install_from_source", "ansible_os_family == 'Debian'"]}, "module_options": "setup-Debian.yml", "executable": "setup-Debian.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "", "module": "include_tasks", "index": 4, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"when": "ruby_install_from_source"}, "module_options": "install-from-source.yml", "executable": "install-from-source.yml", "executable_type": "TaskFile", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "Add user installed RubyGems bin directory to global $PATH.", "module": "copy", "index": 5, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"name": "Add user installed RubyGems bin directory to global $PATH."}, "module_options": {"src": "rubygems.sh", "dest": "/etc/profile.d/rubygems.sh", "mode": 420}, "executable": "copy", "executable_type": "Module", "fqcn": "ansible.builtin.copy", "annotations": {}}, {"py/object": "struct4.Task", "name": "Install Bundler.", "module": "gem", "index": 6, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"name": "Install Bundler.", "when": "ruby_install_bundler"}, "module_options": "name=bundler state=present user_install=no", "executable": "gem", "executable_type": "Module", "fqcn": "", "annotations": {}}, {"py/object": "struct4.Task", "name": "Install configured gems.", "module": "gem", "index": 7, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/main.yml", "options": {"name": "Install configured gems.", "become": true, "become_user": "{{ ruby_install_gems_user }}", "with_items": "{{ ruby_install_gems }}"}, "module_options": {"name": "{{ item.name | default(item) }}", "version": "{{ item.version | default(omit) }}", "user_install": "{{ item.user_install | default(omit) }}", "state": "present"}, "executable": "gem", "executable_type": "Module", "fqcn": "", "annotations": {}}], "role": "geerlingguy.ruby", "used_in": [], "annotations": {}}, {"py/object": "struct4.TaskFile", "name": "setup-RedHat.yml", "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-RedHat.yml", "tasks": [{"py/object": "struct4.Task", "name": "Install ruby, rubygems, and development tools.", "module": "yum", "index": 0, "defined_in": "./role-test/testdata/geerlingguy-ruby/geerlingguy.ruby/tasks/setup-RedHat.yml", "options": {"name": "Install ruby, rubygems, and development tools."}, "module_options": {"name": "{{ ruby_packages }}", "state": "present"}, "executable": "yum", "executable_type": "Module", "fqcn": "ansible.builtin.yum", "annotations": {}}], "role": "geerlingguy.ruby", "used_in": [], "annotations": {}}], "modules": [], "source": "", "annotations": {}, "used_in": []}}, "annotations": {}}